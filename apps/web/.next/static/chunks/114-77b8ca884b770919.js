"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{5114:function(e,i,s){s.d(i,{s:function(){return g},z:function(){return u}});var t=s(7573),n=s(7653),o=s(4001),c=s(4036),a=s(9271),r=s(498),l=s(7342),d=s(9944),m=s(5021),h=s(7277);let u=e=>{let{onCommand:i,className:s="",showCommands:u=!0,autoStart:g=!1}=e,[p,x]=(0,n.useState)(!1),[w,v]=(0,n.useState)(null),[y,f]=(0,n.useState)([]),[k,j]=(0,n.useState)(!1),[b,N]=(0,n.useState)(!0),[C,_]=(0,n.useState)(null),L=(0,n.useRef)(null);return((0,n.useEffect)(()=>{if(!("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){N(!1),_("Speech recognition not supported in this browser");return}return d.U.setOnCommand(e=>{v(e),f(i=>[e,...i.slice(0,4)]),null==i||i(e)}),d.U.setOnListeningChange(e=>{x(e)}),g&&d.U.startListening(),()=>{d.U.stopListening()}},[i,g]),b)?(0,t.jsxs)("div",{className:"space-y-4 ".concat(s),children:[(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{className:"pb-3",children:(0,t.jsxs)(o.ll,{className:"flex items-center justify-between text-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Z,{className:"h-5 w-5 text-teal-500"}),"Voice Commands"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.zx,{variant:"ghost",size:"sm",onClick:()=>j(!k),className:"h-8 w-8 p-0",children:(0,t.jsx)(r.Z,{className:"h-4 w-4"})}),y.length>0&&(0,t.jsx)(o.zx,{variant:"ghost",size:"sm",onClick:()=>{f([]),v(null)},className:"h-8 w-8 p-0",children:(0,t.jsx)(l.Z,{className:"h-4 w-4"})})]})]})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(m.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,t.jsx)(o.zx,{onClick:()=>{p?d.U.stopListening():d.U.startListening()},size:"lg",variant:p?"default":"outline",className:"h-16 w-16 rounded-full ".concat(p?"bg-red-500 hover:bg-red-600 text-white":"bg-teal-500 hover:bg-teal-600 text-white"),children:p?(0,t.jsx)(c.Z,{className:"h-6 w-6"}):(0,t.jsx)(a.Z,{className:"h-6 w-6"})})})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(h.M,{mode:"wait",children:p?(0,t.jsxs)(m.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Listening for commands..."})]},"listening"):(0,t.jsx)(m.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-sm text-gray-500",children:"Click microphone to start voice commands"},"not-listening")})}),(0,t.jsx)(h.M,{children:w&&(0,t.jsx)(m.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"text-sm font-medium text-blue-800",children:['Command: "',w.command,'"']}),(0,t.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:["Action: ",w.action]}),(0,t.jsxs)("div",{className:"text-xs text-blue-500 mt-1",children:["Confidence: ",(100*w.confidence).toFixed(1),"%"]})]}),(0,t.jsx)(o.Ct,{variant:"secondary",className:"text-xs",children:w.action.replace("_"," ")})]})})})]})]}),y.length>0&&(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{className:"pb-3",children:(0,t.jsx)(o.ll,{className:"text-sm",children:"Recent Commands"})}),(0,t.jsx)(o.aY,{children:(0,t.jsx)("div",{className:"space-y-2",children:y.map((e,i)=>(0,t.jsxs)(m.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*i},className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:e.command}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.action})]}),(0,t.jsxs)(o.Ct,{variant:"outline",className:"text-xs",children:[(100*e.confidence).toFixed(0),"%"]})]},i))})})]}),(0,t.jsx)(h.M,{children:k&&(0,t.jsx)(m.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{className:"pb-3",children:(0,t.jsx)(o.ll,{className:"text-sm",children:"Available Voice Commands"})}),(0,t.jsx)(o.aY,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",ref:L,children:d.U.getAvailableCommands().map(e=>(0,t.jsxs)("div",{className:"p-2 border rounded text-xs",children:[(0,t.jsx)("div",{className:"font-medium text-gray-800",children:e.description}),(0,t.jsxs)("div",{className:"text-gray-500 mt-1",children:['Try: "',e.keywords[0],'"']})]},e.id))})})]})})})]}):(0,t.jsx)(o.Zb,{className:s,children:(0,t.jsx)(o.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:C})]})})})},g=e=>{let{onCommand:i,className:s=""}=e,[r,l]=(0,n.useState)(!1),[u,g]=(0,n.useState)(null);return(0,n.useEffect)(()=>(d.U.setOnCommand(e=>{g(e.action),null==i||i(e),setTimeout(()=>g(null),3e3)}),d.U.setOnListeningChange(e=>{l(e)}),()=>{d.U.stopListening()}),[i]),(0,t.jsxs)("div",{className:"flex items-center gap-2 ".concat(s),children:[(0,t.jsx)(o.zx,{onClick:()=>{r?d.U.stopListening():d.U.startListening()},size:"sm",variant:r?"default":"outline",className:"h-10 w-10 rounded-full p-0 ".concat(r?"bg-red-500 hover:bg-red-600":""),children:r?(0,t.jsx)(c.Z,{className:"h-4 w-4"}):(0,t.jsx)(a.Z,{className:"h-4 w-4"})}),(0,t.jsx)(h.M,{children:u&&(0,t.jsx)(m.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"text-xs text-gray-600",children:u.replace("_"," ")})})]})}},9944:function(e,i,s){s.d(i,{U:function(){return n},V:function(){return t}});class t{initializeSpeechRecognition(){if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){let e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,this.recognition.continuous=!0,this.recognition.interimResults=!1,this.recognition.lang="en-US",this.recognition.maxAlternatives=1,this.recognition.onstart=()=>{var e;console.log("Voice recognition started"),this.isListening=!0,null===(e=this.onListeningChangeCallback)||void 0===e||e.call(this,!0)},this.recognition.onend=()=>{var e;console.log("Voice recognition ended"),this.isListening=!1,null===(e=this.onListeningChangeCallback)||void 0===e||e.call(this,!1),this.isListening&&this.startListening()},this.recognition.onresult=e=>{let i=e.results[e.results.length-1][0].transcript.toLowerCase(),s=e.results[e.results.length-1][0].confidence;console.log("Heard:",i,"Confidence:",s),this.processCommand(i,s)},this.recognition.onerror=e=>{var i;console.error("Speech recognition error:",e.error),this.isListening=!1,null===(i=this.onListeningChangeCallback)||void 0===i||i.call(this,!1)}}else console.warn("Speech recognition not supported in this browser")}initializeSpeechSynthesis(){"speechSynthesis"in window?this.synthesis=window.speechSynthesis:console.warn("Speech synthesis not supported in this browser")}processCommand(e,i){let s=null,t=0;for(let i of this.commands)for(let n of i.keywords)if(e.includes(n.toLowerCase())){let o=this.calculateMatchScore(e,n);o>t&&(t=o,s=i)}if(s&&t>.3){var n;let t={command:e,action:s.action,confidence:i,response:s.response};console.log("Command recognized:",t),t.response&&this.speakResponse(t.response),null===(n=this.onCommandCallback)||void 0===n||n.call(this,t)}else console.log("No command recognized for:",e),this.speakResponse("I didn't understand that command. Try saying 'help' for available commands.")}calculateMatchScore(e,i){let s=e.split(" "),t=i.toLowerCase().split(" "),n=0;for(let e of t)s.some(i=>i.includes(e)||e.includes(i))&&n++;return n/t.length}speakResponse(e){if(this.synthesis){this.synthesis.cancel();let i=new SpeechSynthesisUtterance(e);i.rate=.9,i.pitch=1,i.volume=.8;let s=this.synthesis.getVoices(),t=s.find(e=>e.name.includes("Google")||e.name.includes("Natural")||e.name.includes("Premium"));t&&(i.voice=t),this.synthesis.speak(i)}}startListening(){if(this.recognition&&!this.isListening)try{this.recognition.start()}catch(e){console.error("Failed to start speech recognition:",e)}}stopListening(){if(this.recognition&&this.isListening){var e;this.recognition.stop(),this.isListening=!1,null===(e=this.onListeningChangeCallback)||void 0===e||e.call(this,!1)}}toggleListening(){this.isListening?this.stopListening():this.startListening()}isVoiceListening(){return this.isListening}setOnCommand(e){this.onCommandCallback=e}setOnListeningChange(e){this.onListeningChangeCallback=e}getAvailableCommands(){return this.commands}speakText(e){this.speakResponse(e)}testVoiceCommand(e){this.processCommand(e.toLowerCase(),.9)}constructor(){this.recognition=null,this.synthesis=null,this.isListening=!1,this.onCommandCallback=null,this.onListeningChangeCallback=null,this.commands=[{id:"pause",keywords:["pause","stop","hold","wait"],action:"pause_workout",description:"Pause the current workout",response:'Workout paused. Say "resume" to continue.'},{id:"resume",keywords:["resume","continue","start","go","play"],action:"resume_workout",description:"Resume the paused workout",response:"Resuming workout. Let's keep going!"},{id:"stop",keywords:["stop workout","end workout","finish","quit"],action:"stop_workout",description:"Stop and end the workout",response:"Workout stopped. Great job today!"},{id:"change_voice",keywords:["change voice","new voice","different voice","switch voice"],action:"change_voice_coach",description:"Change the voice coach style",response:"Changing voice coach. What style would you prefer?"},{id:"motivational_voice",keywords:["motivational","energetic","pump me up"],action:"set_voice_motivational",description:"Set voice to motivational style",response:"Switching to motivational voice coach!"},{id:"calm_voice",keywords:["calm","relaxed","soothing","gentle"],action:"set_voice_calm",description:"Set voice to calm style",response:"Switching to calm voice coach."},{id:"professional_voice",keywords:["professional","clear","instructional"],action:"set_voice_professional",description:"Set voice to professional style",response:"Switching to professional voice coach."},{id:"form_check",keywords:["am i doing this correctly","how is my form","check my form","am i doing it right"],action:"check_form",description:"Get real-time form feedback",response:"Let me check your form. Hold that position."},{id:"form_help",keywords:["help me","i need help","what should i do","guide me"],action:"get_form_help",description:"Get help with current exercise",response:"I'll guide you through this exercise step by step."},{id:"change_music",keywords:["change music","new music","different music","switch music"],action:"change_music",description:"Change the background music",response:"Changing the music. What genre would you like?"},{id:"motivational_music",keywords:["motivational music","pump up music","energetic music"],action:"set_music_motivational",description:"Set music to motivational genre",response:"Playing motivational music to keep you energized!"},{id:"calm_music",keywords:["calm music","relaxing music","peaceful music"],action:"set_music_calm",description:"Set music to calm genre",response:"Switching to calming music for focus."},{id:"time_remaining",keywords:["how much longer","time left","how much time","remaining time"],action:"get_time_remaining",description:"Get time remaining for current exercise",response:"Let me check how much time is left."},{id:"workout_progress",keywords:["how am i doing","my progress","workout status","how many reps"],action:"get_workout_progress",description:"Get current workout progress",response:"Let me check your progress so far."},{id:"similar_exercises",keywords:["more like this","similar exercises","recommend exercises","what else"],action:"get_similar_exercises",description:"Get recommendations for similar exercises",response:"I'll find some similar exercises for you."},{id:"next_exercise",keywords:["next exercise","what's next","next workout","next move"],action:"get_next_exercise",description:"Get information about the next exercise",response:"Let me tell you about the next exercise."},{id:"volume_up",keywords:["volume up","louder","turn up volume","increase volume"],action:"volume_up",description:"Increase voice volume",response:"Increasing volume."},{id:"volume_down",keywords:["volume down","quieter","turn down volume","decrease volume"],action:"volume_down",description:"Decrease voice volume",response:"Decreasing volume."},{id:"mute",keywords:["mute","silence","quiet","turn off voice"],action:"mute_voice",description:"Mute voice coaching",response:'Voice coaching muted. Say "unmute" to turn it back on.'},{id:"unmute",keywords:["unmute","turn on voice","enable voice","voice on"],action:"unmute_voice",description:"Unmute voice coaching",response:"Voice coaching enabled again!"}],this.initializeSpeechRecognition(),this.initializeSpeechSynthesis()}}let n=new t}}]);