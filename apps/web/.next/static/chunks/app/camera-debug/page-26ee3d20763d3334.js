(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[139],{599:function(e,t,r){Promise.resolve().then(r.bind(r,9633))},9633:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(7573),n=r(7653),s=r(4001);function i(){let[e,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)([]),l=(0,n.useRef)(null),c=(0,n.useRef)(null),o=e=>{let t=new Date().toLocaleTimeString();i(r=>[...r,"".concat(t,": ").concat(e)]),console.log("[".concat(t,"] ").concat(e))},d=async()=>{try{o("Starting camera request..."),t(!1);let e=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"}});if(o("Camera stream obtained: ".concat(e.id)),o("Stream tracks: ".concat(e.getTracks().map(e=>e.kind).join(", "))),l.current){o("Setting video srcObject..."),l.current.srcObject=e,c.current=e,o("Setting isCameraOn to true..."),t(!0),o("isCameraOn state after setState: ".concat(!0));try{o("Attempting to play video..."),await l.current.play(),o("Video play() successful")}catch(e){o("Video play() failed: ".concat(e))}l.current.onloadedmetadata=()=>{var e,t;o("Video metadata loaded: ".concat(null===(e=l.current)||void 0===e?void 0:e.videoWidth,"x").concat(null===(t=l.current)||void 0===t?void 0:t.videoHeight))},l.current.oncanplay=()=>{o("Video can play event fired")},l.current.onerror=e=>{o("Video error: ".concat(e))},l.current.onplay=()=>{o("Video play event fired")},l.current.onplaying=()=>{o("Video playing event fired")}}else o("ERROR: videoRef.current is null")}catch(e){o("Camera access failed: ".concat(e)),t(!1)}},u=()=>{o("Stopping camera..."),c.current&&(c.current.getTracks().forEach(e=>{o("Stopping track: ".concat(e.kind)),e.stop()}),c.current=null),l.current&&(l.current.srcObject=null),t(!1),o("Camera stopped")};return(0,n.useEffect)(()=>{o("isCameraOn state changed to: ".concat(e))},[e]),(0,a.jsx)("div",{className:"min-h-screen bg-background-primary p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-4",children:"Camera State Debug"}),(0,a.jsx)("p",{className:"text-text-muted",children:"Debug camera state management issues"})]}),(0,a.jsxs)(s.Zb,{className:"mb-6",children:[(0,a.jsx)(s.Ol,{children:(0,a.jsx)(s.ll,{children:"Camera Status"})}),(0,a.jsx)(s.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e?"bg-green-500":"bg-red-500")}),(0,a.jsx)("span",{className:"text-sm",children:e?"Camera Active":"Camera Inactive"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["State Value: ",e.toString()]})]})})]}),(0,a.jsxs)(s.Zb,{className:"mb-6",children:[(0,a.jsx)(s.Ol,{children:(0,a.jsx)(s.ll,{children:"Camera Controls"})}),(0,a.jsx)(s.aY,{children:(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsx)(s.zx,{onClick:()=>{e?u():d()},variant:e?"destructive":"default",className:"flex items-center gap-2",children:e?"Stop Camera":"Start Camera"})})})]}),(0,a.jsxs)(s.Zb,{className:"mb-6",children:[(0,a.jsx)(s.Ol,{children:(0,a.jsx)(s.ll,{children:"Video Feed"})}),(0,a.jsx)(s.aY,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg border",style:{maxHeight:"400px",minHeight:"300px",backgroundColor:"#f0f0f0"}}),!e&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCF9"}),(0,a.jsx)("div",{className:"text-gray-600",children:'Click "Start Camera" to begin'})]})})]})})]}),(0,a.jsxs)(s.Zb,{children:[(0,a.jsx)(s.Ol,{children:(0,a.jsx)(s.ll,{children:"Debug Log"})}),(0,a.jsx)(s.aY,{children:(0,a.jsx)("div",{className:"bg-black text-green-400 p-4 rounded-lg font-mono text-xs max-h-60 overflow-y-auto",children:0===r.length?(0,a.jsx)("div",{className:"text-gray-500",children:"No debug info yet..."}):r.map((e,t)=>(0,a.jsx)("div",{className:"mb-1",children:e},t))})})]})]})})}},4001:function(e,t,r){"use strict";r.d(t,{Ct:function(){return o},zx:function(){return f},Zb:function(){return x},aY:function(){return h},Ol:function(){return m},ll:function(){return b},II:function(){return v},Ex:function(){return j},rs:function(){return k}});var a=r(7573),n=r(9484),s=r(794),i=r(9654);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,s.W)(t))}let c=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-accent text-text-primary hover:bg-accent/80",secondary:"border-transparent bg-background-tertiary text-text-secondary hover:bg-background-tertiary/80",destructive:"border-transparent bg-error text-text-primary hover:bg-error/80",outline:"text-text-primary border-border"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:l(c({variant:r}),t),...n})}var d=r(7653);let u=(0,n.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none active:scale-95",{variants:{variant:{default:"bg-accent text-text-primary hover:bg-accent/90 shadow-lg hover:shadow-xl",destructive:"bg-error text-text-primary hover:bg-error/90 shadow-lg hover:shadow-xl",outline:"border border-border bg-background-secondary text-text-primary hover:bg-background-tertiary hover:border-accent/50",secondary:"bg-background-tertiary text-text-primary hover:bg-background-secondary border border-border",ghost:"hover:bg-background-secondary text-text-secondary hover:text-text-primary",link:"text-accent underline-offset-4 hover:underline",gradient:"bg-gradient-to-r from-accent-pink to-accent-blue text-text-primary hover:from-accent-pink/90 hover:to-accent-blue/90 shadow-lg hover:shadow-xl"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-8 text-base",xl:"h-14 px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=d.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:i=!1,...c}=e;return(0,a.jsx)("button",{className:l(u({variant:n,size:s,className:r})),ref:t,...c})});f.displayName="Button";let x=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:l("rounded-xl border border-border bg-background-secondary text-text-primary shadow-lg transition-all duration-200 hover:shadow-xl hover:border-accent/20",r),...n})});x.displayName="Card";let m=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:l("flex flex-col space-y-1.5 p-6",r),...n})});m.displayName="CardHeader";let b=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:l("text-lg font-semibold leading-none tracking-tight",r),...n})});b.displayName="CardTitle";let g=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:l("text-sm text-text-muted",r),...n})});g.displayName="CardDescription";let h=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:l("p-6 pt-0",r),...n})});h.displayName="CardContent";let p=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:l("flex items-center p-6 pt-0",r),...n})});p.displayName="CardFooter";let v=d.forwardRef((e,t)=>{let{className:r,type:n,...s}=e;return(0,a.jsx)("input",{type:n,className:l("flex h-10 w-full rounded-md border border-border bg-background-secondary px-3 py-2 text-sm text-text-primary ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-text-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});v.displayName="Input";var y=r(3575);let j=d.forwardRef((e,t)=>{let{className:r,value:n,...s}=e;return(0,a.jsx)(y.fC,{ref:t,className:l("relative h-2 w-full overflow-hidden rounded-full bg-background-tertiary",r),...s,children:(0,a.jsx)(y.z$,{className:"h-full w-full flex-1 bg-accent transition-all duration-300 ease-in-out",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});j.displayName=y.fC.displayName;var N=r(9150);let k=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(N.fC,{className:l("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background-primary disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-accent data-[state=unchecked]:bg-background-tertiary",r),...n,ref:t,children:(0,a.jsx)(N.bU,{className:l("pointer-events-none block h-5 w-5 rounded-full bg-background-primary shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});k.displayName=N.fC.displayName}},function(e){e.O(0,[630,293,53,744],function(){return e(e.s=599)}),_N_E=e.O()}]);