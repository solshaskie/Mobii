(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{4770:function(e,t,s){Promise.resolve().then(s.bind(s,281))},281:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var r=s(7573),a=s(7653),i=s(4001),l=s(5453),n=s(638),o=s(9218),c=s(3067),d=s(206),h=s(1864),u=s(2480),m=s(7342),x=s(6528),g=s(5021),v=s(7277),p=s(2058);let f=e=>{let{className:t=""}=e,[s,f]=(0,a.useState)(null),[N,w]=(0,a.useState)(null),[P,k]=(0,a.useState)([]),[S,F]=(0,a.useState)(!1),[C,I]=(0,a.useState)(!1),[D,M]=(0,a.useState)(!1),[U,_]=(0,a.useState)({});(0,a.useEffect)(()=>{O()},[]);let O=()=>{let e=p.userProfileService.getCurrentProfile(),t=p.userProfileService.getUserStats(),s=p.userProfileService.getProgressPhotos(void 0,!0);f(e),w(t),k(s)},z=()=>{F(!1),_({})},L=e=>{confirm("Are you sure you want to delete this progress photo?")&&(p.userProfileService.deleteProgressPhoto(e),O())};if(!s)return(0,r.jsxs)("div",{className:"text-center p-8 ".concat(t),children:[(0,r.jsx)(l.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Profile Found"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"Please create a profile to get started"}),(0,r.jsx)(i.zx,{onClick:()=>p.userProfileService.addSampleData(),children:"Create Sample Profile"})]});let E=p.userProfileService.calculateBMI(),A=p.userProfileService.getBMICategory();return p.userProfileService.calculateBMR(),p.userProfileService.calculateTDEE(),(0,r.jsxs)("div",{className:"space-y-6 ".concat(t),children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(l.Z,{className:"h-5 w-5 text-blue-500"}),"Profile"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.zx,{variant:"outline",size:"sm",onClick:()=>I(!0),className:"flex items-center gap-2",children:[(0,r.jsx)(n.Z,{className:"h-4 w-4"}),"Add Photo"]}),(0,r.jsxs)(i.zx,{variant:"outline",size:"sm",onClick:()=>window.location.href="/automated-photo-capture",className:"flex items-center gap-2 bg-blue-50 hover:bg-blue-100",children:[(0,r.jsx)(n.Z,{className:"h-4 w-4"}),"Auto Capture"]}),(0,r.jsxs)(i.zx,{variant:"outline",size:"sm",onClick:()=>M(!0),className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),"Privacy"]}),(0,r.jsxs)(i.zx,{variant:"outline",size:"sm",onClick:()=>F(!0),className:"flex items-center gap-2",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),"Edit"]})]})]})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 flex items-center justify-center",children:(0,r.jsx)(l.Z,{className:"h-12 w-12 text-white"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:s.displayName}),(0,r.jsx)("p",{className:"text-gray-600",children:s.email}),(0,r.jsx)(i.Ct,{className:"mt-2 ".concat((e=>{switch(e){case"beginner":return"text-green-600";case"intermediate":return"text-blue-600";case"advanced":return"text-purple-600";case"expert":return"text-red-600";default:return"text-gray-600"}})(s.fitnessLevel)),children:s.fitnessLevel})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800",children:"Physical Stats"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Height"}),(0,r.jsxs)("div",{className:"font-medium",children:[s.height.feet,"'",s.height.inches,'" (',s.height.centimeters,"cm)"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Weight"}),(0,r.jsxs)("div",{className:"font-medium",children:[s.weight.pounds," lbs (",s.weight.kilograms,"kg)"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"BMI"}),(0,r.jsxs)("div",{className:"font-medium ".concat((e=>{switch(e){case"underweight":return"text-blue-600";case"normal":return"text-green-600";case"overweight":return"text-yellow-600";case"obese":return"text-red-600";default:return"text-gray-600"}})(A||"")),children:[E?E.toFixed(1):"N/A"," (",A||"N/A",")"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Activity Level"}),(0,r.jsx)("div",{className:"font-medium capitalize",children:s.activityLevel.replace("_"," ")})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800",children:"Fitness Goals"}),(0,r.jsx)("div",{className:"space-y-2",children:s.fitnessGoals.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 text-green-500"}),(0,r.jsx)("span",{className:"text-sm",children:e})]},t))})]})]})})]}),N&&(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(h.Z,{className:"h-5 w-5 text-green-500"}),"Fitness Stats"]})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:N.totalWorkouts}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Workouts"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:N.currentStreak}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Day Streak"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:N.level}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Level"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:N.experiencePoints}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"XP"})]})]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(n.Z,{className:"h-5 w-5 text-purple-500"}),"Progress Photos"]})}),(0,r.jsx)(i.aY,{children:0===P.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(n.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Progress Photos"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"Start tracking your progress with photos"}),(0,r.jsx)(i.zx,{onClick:()=>I(!0),children:"Add First Photo"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.slice(0,6).map(e=>(0,r.jsxs)(g.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative group",children:[(0,r.jsxs)("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gray-100",children:[(0,r.jsx)("img",{src:e.thumbnailUrl,alt:"Progress photo ".concat(e.date),className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex gap-2",children:[(0,r.jsx)(i.zx,{size:"sm",variant:"secondary",onClick:()=>{},children:(0,r.jsx)(u.Z,{className:"h-4 w-4"})}),(0,r.jsx)(i.zx,{size:"sm",variant:"destructive",onClick:()=>L(e.id),children:(0,r.jsx)(m.Z,{className:"h-4 w-4"})})]})}),e.isPrivate&&(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsx)(x.Z,{className:"h-4 w-4 text-white bg-black bg-opacity-50 rounded p-1"})})]}),(0,r.jsxs)("div",{className:"mt-2 text-sm",children:[(0,r.jsx)("div",{className:"font-medium",children:new Date(e.date).toLocaleDateString()}),(0,r.jsxs)("div",{className:"text-gray-500 capitalize",children:[e.type," view"]}),e.weight&&(0,r.jsxs)("div",{className:"text-gray-500",children:[e.weight," lbs"]})]})]},e.id))})})]}),(0,r.jsx)(v.M,{children:S&&(0,r.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:z,children:(0,r.jsxs)(g.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Edit Profile"}),(0,r.jsx)(b,{profile:s,onSave:()=>{s&&(p.userProfileService.updateProfile(U),F(!1),_({}),O())},onCancel:z})]})})}),(0,r.jsx)(v.M,{children:C&&(0,r.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>I(!1),children:(0,r.jsxs)(g.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Add Progress Photo"}),(0,r.jsx)(j,{onUpload:e=>{p.userProfileService.addProgressPhoto(e),I(!1),O()},onCancel:()=>I(!1)})]})})}),(0,r.jsx)(v.M,{children:D&&(0,r.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>M(!1),children:(0,r.jsxs)(g.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Privacy Settings"}),(0,r.jsx)(y,{profile:s,onSave:e=>{p.userProfileService.updateProfile(e),M(!1),O()},onCancel:()=>M(!1)})]})})})]})},b=e=>{let{profile:t,onSave:s,onCancel:l}=e,[n,o]=(0,a.useState)({firstName:t.firstName,lastName:t.lastName,displayName:t.displayName,dateOfBirth:t.dateOfBirth||"",gender:t.gender||"prefer_not_to_say",heightFeet:t.height.feet,heightInches:t.height.inches,weightPounds:t.weight.pounds,fitnessLevel:t.fitnessLevel,activityLevel:t.activityLevel,fitnessGoals:t.fitnessGoals.join(", "),units:t.units});return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),(0,r.jsx)(i.II,{value:n.firstName,onChange:e=>o({...n,firstName:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Last Name"}),(0,r.jsx)(i.II,{value:n.lastName,onChange:e=>o({...n,lastName:e.target.value})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Display Name"}),(0,r.jsx)(i.II,{value:n.displayName,onChange:e=>o({...n,displayName:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Date of Birth"}),(0,r.jsx)(i.II,{type:"date",value:n.dateOfBirth,onChange:e=>o({...n,dateOfBirth:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),(0,r.jsxs)("select",{value:n.gender,onChange:e=>o({...n,gender:e.target.value}),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"male",children:"Male"}),(0,r.jsx)("option",{value:"female",children:"Female"}),(0,r.jsx)("option",{value:"other",children:"Other"}),(0,r.jsx)("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Height (ft)"}),(0,r.jsx)(i.II,{type:"number",value:n.heightFeet,onChange:e=>o({...n,heightFeet:parseInt(e.target.value)||0})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Height (in)"}),(0,r.jsx)(i.II,{type:"number",value:n.heightInches,onChange:e=>o({...n,heightInches:parseInt(e.target.value)||0})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Weight (lbs)"}),(0,r.jsx)(i.II,{type:"number",value:n.weightPounds,onChange:e=>o({...n,weightPounds:parseFloat(e.target.value)||0})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Fitness Level"}),(0,r.jsxs)("select",{value:n.fitnessLevel,onChange:e=>o({...n,fitnessLevel:e.target.value}),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"beginner",children:"Beginner"}),(0,r.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,r.jsx)("option",{value:"advanced",children:"Advanced"}),(0,r.jsx)("option",{value:"expert",children:"Expert"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Activity Level"}),(0,r.jsxs)("select",{value:n.activityLevel,onChange:e=>o({...n,activityLevel:e.target.value}),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"sedentary",children:"Sedentary"}),(0,r.jsx)("option",{value:"lightly_active",children:"Lightly Active"}),(0,r.jsx)("option",{value:"moderately_active",children:"Moderately Active"}),(0,r.jsx)("option",{value:"very_active",children:"Very Active"}),(0,r.jsx)("option",{value:"extremely_active",children:"Extremely Active"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Fitness Goals (comma-separated)"}),(0,r.jsx)(i.II,{value:n.fitnessGoals,onChange:e=>o({...n,fitnessGoals:e.target.value}),placeholder:"Lose Weight, Build Muscle, Improve Endurance"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.zx,{onClick:()=>{let e=p.UserProfileService.feetInchesToCm(n.heightFeet,n.heightInches),t=p.UserProfileService.poundsToKg(n.weightPounds),r={firstName:n.firstName,lastName:n.lastName,displayName:n.displayName,dateOfBirth:n.dateOfBirth||void 0,gender:n.gender,height:{feet:n.heightFeet,inches:n.heightInches,centimeters:e},weight:{pounds:n.weightPounds,kilograms:t},fitnessLevel:n.fitnessLevel,activityLevel:n.activityLevel,fitnessGoals:n.fitnessGoals.split(",").map(e=>e.trim()).filter(e=>e),units:n.units};p.userProfileService.updateProfile(r),s()},className:"flex-1",children:"Save Changes"}),(0,r.jsx)(i.zx,{variant:"outline",onClick:l,className:"flex-1",children:"Cancel"})]})]})},j=e=>{let{onUpload:t,onCancel:s}=e,[l,n]=(0,a.useState)({type:"front",date:new Date().toISOString().split("T")[0],weight:"",bodyFat:"",muscleMass:"",notes:"",isPrivate:!0});return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Photo Type"}),(0,r.jsxs)("select",{value:l.type,onChange:e=>n({...l,type:e.target.value}),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"front",children:"Front View"}),(0,r.jsx)("option",{value:"side",children:"Side View"}),(0,r.jsx)("option",{value:"back",children:"Back View"}),(0,r.jsx)("option",{value:"full_body",children:"Full Body"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Date"}),(0,r.jsx)(i.II,{type:"date",value:l.date,onChange:e=>n({...l,date:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Weight (lbs)"}),(0,r.jsx)(i.II,{type:"number",step:"0.1",value:l.weight,onChange:e=>n({...l,weight:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Body Fat (%)"}),(0,r.jsx)(i.II,{type:"number",step:"0.1",value:l.bodyFat,onChange:e=>n({...l,bodyFat:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Muscle Mass (lbs)"}),(0,r.jsx)(i.II,{type:"number",step:"0.1",value:l.muscleMass,onChange:e=>n({...l,muscleMass:e.target.value})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),(0,r.jsx)(i.II,{value:l.notes,onChange:e=>n({...l,notes:e.target.value}),placeholder:"Optional notes about this photo"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"isPrivate",checked:l.isPrivate,onChange:e=>n({...l,isPrivate:e.target.checked}),className:"rounded"}),(0,r.jsx)("label",{htmlFor:"isPrivate",className:"text-sm",children:"Keep this photo private"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.zx,{onClick:()=>{var e;let s={userId:(null===(e=p.userProfileService.getCurrentProfile())||void 0===e?void 0:e.id)||"",date:l.date,type:l.type,imageUrl:"https://via.placeholder.com/400x600/4F46E5/FFFFFF?text=Progress+Photo+".concat(l.date),thumbnailUrl:"https://via.placeholder.com/200x300/4F46E5/FFFFFF?text=Thumbnail",weight:l.weight?parseFloat(l.weight):void 0,bodyFat:l.bodyFat?parseFloat(l.bodyFat):void 0,muscleMass:l.muscleMass?parseFloat(l.muscleMass):void 0,notes:l.notes||void 0,isPrivate:l.isPrivate,tags:[l.type,"progress"]};t(s)},className:"flex-1",children:"Upload Photo"}),(0,r.jsx)(i.zx,{variant:"outline",onClick:s,className:"flex-1",children:"Cancel"})]})]})},y=e=>{let{profile:t,onSave:s,onCancel:l}=e,[n,o]=(0,a.useState)(t.privacySettings);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Profile Visibility"}),(0,r.jsxs)("select",{value:n.profileVisibility,onChange:e=>o({...n,profileVisibility:e.target.value}),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"public",children:"Public"}),(0,r.jsx)("option",{value:"friends",children:"Friends Only"}),(0,r.jsx)("option",{value:"private",children:"Private"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Progress Photos"}),(0,r.jsxs)("select",{value:n.progressPhotos,onChange:e=>o({...n,progressPhotos:e.target.value}),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"public",children:"Public"}),(0,r.jsx)("option",{value:"friends",children:"Friends Only"}),(0,r.jsx)("option",{value:"private",children:"Private"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Weight Data"}),(0,r.jsxs)("select",{value:n.weightData,onChange:e=>o({...n,weightData:e.target.value}),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"public",children:"Public"}),(0,r.jsx)("option",{value:"friends",children:"Friends Only"}),(0,r.jsx)("option",{value:"private",children:"Private"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Workout History"}),(0,r.jsxs)("select",{value:n.workoutHistory,onChange:e=>o({...n,workoutHistory:e.target.value}),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"public",children:"Public"}),(0,r.jsx)("option",{value:"friends",children:"Friends Only"}),(0,r.jsx)("option",{value:"private",children:"Private"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Achievements"}),(0,r.jsxs)("select",{value:n.achievements,onChange:e=>o({...n,achievements:e.target.value}),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"public",children:"Public"}),(0,r.jsx)("option",{value:"friends",children:"Friends Only"}),(0,r.jsx)("option",{value:"private",children:"Private"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.zx,{onClick:()=>{s({privacySettings:n})},className:"flex-1",children:"Save Settings"}),(0,r.jsx)(i.zx,{variant:"outline",onClick:l,className:"flex-1",children:"Cancel"})]})]})};var N=s(9466),w=s(5592);function P(){return(0,a.useEffect)(()=>{let e=p.userProfileService.getCurrentProfile();e||p.userProfileService.addSampleData()},[]),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-6",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"\uD83D\uDC64 User Profile & Progress Photos"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage your profile, track progress with photos, and control your privacy settings"})]}),(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,r.jsxs)(i.zx,{variant:"outline",onClick:()=>{p.userProfileService.addSampleData(),window.location.reload()},className:"flex items-center gap-2",children:[(0,r.jsx)(N.Z,{className:"h-4 w-4"}),"Add Sample Data"]}),(0,r.jsxs)(i.zx,{variant:"outline",onClick:()=>{confirm("Are you sure you want to clear all profile and progress photo data? This cannot be undone.")&&(p.userProfileService.clearAllData(),window.location.reload())},className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[(0,r.jsx)(w.Z,{className:"h-4 w-4"}),"Clear All Data"]})]}),(0,r.jsx)(f,{})]})})}},2058:function(e,t,s){"use strict";s.r(t),s.d(t,{UserProfileService:function(){return r},userProfileService:function(){return a}});class r{createProfile(e){let t={...e,id:this.generateId(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.profiles.push(t),this.currentUser=t,this.saveToStorage(),t}getCurrentProfile(){return this.currentUser}updateProfile(e){if(!this.currentUser)return null;this.currentUser={...this.currentUser,...e,updatedAt:new Date().toISOString()};let t=this.profiles.findIndex(e=>e.id===this.currentUser.id);return -1!==t&&(this.profiles[t]=this.currentUser),this.saveToStorage(),this.currentUser}addProgressPhoto(e){let t={...e,id:this.generateId(),createdAt:new Date().toISOString()};return this.progressPhotos.push(t),this.saveToStorage(),t}getProgressPhotos(e){var t;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e||(null===(t=this.currentUser)||void 0===t?void 0:t.id);return r?this.progressPhotos.filter(e=>e.userId===r).filter(e=>s||!e.isPrivate).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()):[]}getProgressPhotosByDateRange(e,t,s){let r=this.getProgressPhotos(s,!0);return r.filter(s=>s.date>=e&&s.date<=t)}deleteProgressPhoto(e){let t=this.progressPhotos.findIndex(t=>t.id===e);return -1!==t&&(this.progressPhotos.splice(t,1),this.saveToStorage(),!0)}updateProgressPhoto(e,t){let s=this.progressPhotos.findIndex(t=>t.id===e);return -1===s?null:(this.progressPhotos[s]={...this.progressPhotos[s],...t},this.saveToStorage(),this.progressPhotos[s])}calculateBMI(){if(!this.currentUser)return null;let e=this.currentUser.height.centimeters/100,t=this.currentUser.weight.kilograms;return t/(e*e)}getBMICategory(){let e=this.calculateBMI();return e?e<18.5?"underweight":e<25?"normal":e<30?"overweight":"obese":null}calculateBMR(){if(!this.currentUser)return null;let{weight:e,height:t,gender:s,dateOfBirth:r}=this.currentUser;if(!r)return null;let a=this.calculateAge(r),i=e.kilograms,l=t.centimeters;return"male"===s?10*i+6.25*l-5*a+5:"female"===s?10*i+6.25*l-5*a-161:(10*i+6.25*l-5*a+5+(10*i+6.25*l-5*a-161))/2}calculateTDEE(){let e=this.calculateBMR();if(!e||!this.currentUser)return null;let t={sedentary:1.2,lightly_active:1.375,moderately_active:1.55,very_active:1.725,extremely_active:1.9}[this.currentUser.activityLevel];return e*t}calculateAge(e){let t=new Date,s=new Date(e),r=t.getFullYear()-s.getFullYear(),a=t.getMonth()-s.getMonth();return(a<0||0===a&&t.getDate()<s.getDate())&&r--,r}static feetInchesToCm(e,t){return(12*e+t)*2.54}static cmToFeetInches(e){let t=e/2.54;return{feet:Math.floor(t/12),inches:Math.round(t%12)}}static poundsToKg(e){return .453592*e}static kgToPounds(e){return 2.20462*e}getUserStats(){return{totalWorkouts:45,totalWorkoutTime:2700,currentStreak:7,longestStreak:21,totalWeightLost:15.5,totalWeightGained:0,averageWorkoutDuration:36,favoriteExercises:["Push-ups","Squats","Planks","Lunges"],achievements:["First Workout","7-Day Streak","Weight Loss Goal"],level:5,experiencePoints:1250}}canViewProfile(e){var t;let s=this.profiles.find(t=>t.id===e);return!!s&&(e===(null===(t=this.currentUser)||void 0===t?void 0:t.id)||"public"===s.privacySettings.profileVisibility)}canViewProgressPhotos(e){var t;let s=this.profiles.find(t=>t.id===e);return!!s&&(e===(null===(t=this.currentUser)||void 0===t?void 0:t.id)||"public"===s.privacySettings.progressPhotos)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}saveToStorage(){localStorage.setItem("mobii_user_profiles",JSON.stringify(this.profiles)),localStorage.setItem("mobii_progress_photos",JSON.stringify(this.progressPhotos)),localStorage.setItem("mobii_current_user",JSON.stringify(this.currentUser))}loadFromStorage(){{let e=localStorage.getItem("mobii_user_profiles"),t=localStorage.getItem("mobii_progress_photos"),s=localStorage.getItem("mobii_current_user");e&&(this.profiles=JSON.parse(e)),t&&(this.progressPhotos=JSON.parse(t)),s&&(this.currentUser=JSON.parse(s))}}clearAllData(){this.profiles=[],this.progressPhotos=[],this.currentUser=null,this.saveToStorage()}addSampleData(){this.createProfile({email:"john.doe@example.com",firstName:"John",lastName:"Doe",displayName:"JohnDoe",dateOfBirth:"1990-05-15",gender:"male",height:{feet:5,inches:10,centimeters:178},weight:{pounds:180,kilograms:81.6},fitnessLevel:"intermediate",fitnessGoals:["Lose Weight","Build Muscle","Improve Endurance"],activityLevel:"moderately_active",timezone:"America/New_York",language:"en",units:"imperial",privacySettings:{profileVisibility:"public",progressPhotos:"private",weightData:"private",workoutHistory:"friends",achievements:"public"},preferences:{workoutDuration:45,workoutFrequency:4,preferredWorkoutTime:"evening",musicPreference:"Motivational",voiceCoachStyle:"motivational",notifications:{workoutReminders:!0,progressUpdates:!0,achievements:!0,weeklyReports:!0}}});let e=new Date,t=[];for(let s=29;s>=0;s-=7){let r=new Date(e);r.setDate(r.getDate()-s);let a=180-(29-s)*.5;t.push({userId:this.currentUser.id,date:r.toISOString().split("T")[0],type:"front",imageUrl:"https://via.placeholder.com/400x600/4F46E5/FFFFFF?text=Progress+Photo+".concat(r.toLocaleDateString()),thumbnailUrl:"https://via.placeholder.com/200x300/4F46E5/FFFFFF?text=Thumbnail",weight:Math.round(10*a)/10,bodyFat:Math.round((25-(29-s)*.2)*10)/10,muscleMass:Math.round((150-(29-s)*.1)*10)/10,notes:"Week ".concat(Math.floor((29-s)/7)+1," progress photo"),isPrivate:!0,tags:["front","weekly","progress"]}),t.push({userId:this.currentUser.id,date:r.toISOString().split("T")[0],type:"side",imageUrl:"https://via.placeholder.com/400x600/10B981/FFFFFF?text=Side+View+".concat(r.toLocaleDateString()),thumbnailUrl:"https://via.placeholder.com/200x300/10B981/FFFFFF?text=Side",weight:Math.round(10*a)/10,bodyFat:Math.round((25-(29-s)*.2)*10)/10,muscleMass:Math.round((150-(29-s)*.1)*10)/10,notes:"Week ".concat(Math.floor((29-s)/7)+1," side view"),isPrivate:!0,tags:["side","weekly","progress"]})}t.forEach(e=>this.addProgressPhoto(e))}constructor(){this.profiles=[],this.progressPhotos=[],this.currentUser=null,this.loadFromStorage()}}let a=new r},4001:function(e,t,s){"use strict";s.d(t,{Ct:function(){return c},zx:function(){return u},Zb:function(){return m},aY:function(){return p},Ol:function(){return x},ll:function(){return g},II:function(){return b},Ex:function(){return y},rs:function(){return w}});var r=s(7573),a=s(9484),i=s(794),l=s(9654);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,i.W)(t))}let o=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-accent text-text-primary hover:bg-accent/80",secondary:"border-transparent bg-background-tertiary text-text-secondary hover:bg-background-tertiary/80",destructive:"border-transparent bg-error text-text-primary hover:bg-error/80",outline:"text-text-primary border-border"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:n(o({variant:s}),t),...a})}var d=s(7653);let h=(0,a.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none active:scale-95",{variants:{variant:{default:"bg-accent text-text-primary hover:bg-accent/90 shadow-lg hover:shadow-xl",destructive:"bg-error text-text-primary hover:bg-error/90 shadow-lg hover:shadow-xl",outline:"border border-border bg-background-secondary text-text-primary hover:bg-background-tertiary hover:border-accent/50",secondary:"bg-background-tertiary text-text-primary hover:bg-background-secondary border border-border",ghost:"hover:bg-background-secondary text-text-secondary hover:text-text-primary",link:"text-accent underline-offset-4 hover:underline",gradient:"bg-gradient-to-r from-accent-pink to-accent-blue text-text-primary hover:from-accent-pink/90 hover:to-accent-blue/90 shadow-lg hover:shadow-xl"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-8 text-base",xl:"h-14 px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=d.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:l=!1,...o}=e;return(0,r.jsx)("button",{className:n(h({variant:a,size:i,className:s})),ref:t,...o})});u.displayName="Button";let m=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:n("rounded-xl border border-border bg-background-secondary text-text-primary shadow-lg transition-all duration-200 hover:shadow-xl hover:border-accent/20",s),...a})});m.displayName="Card";let x=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",s),...a})});x.displayName="CardHeader";let g=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:n("text-lg font-semibold leading-none tracking-tight",s),...a})});g.displayName="CardTitle";let v=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:n("text-sm text-text-muted",s),...a})});v.displayName="CardDescription";let p=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:n("p-6 pt-0",s),...a})});p.displayName="CardContent";let f=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:n("flex items-center p-6 pt-0",s),...a})});f.displayName="CardFooter";let b=d.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:n("flex h-10 w-full rounded-md border border-border bg-background-secondary px-3 py-2 text-sm text-text-primary ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-text-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});b.displayName="Input";var j=s(3575);let y=d.forwardRef((e,t)=>{let{className:s,value:a,...i}=e;return(0,r.jsx)(j.fC,{ref:t,className:n("relative h-2 w-full overflow-hidden rounded-full bg-background-tertiary",s),...i,children:(0,r.jsx)(j.z$,{className:"h-full w-full flex-1 bg-accent transition-all duration-300 ease-in-out",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});y.displayName=j.fC.displayName;var N=s(9150);let w=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.fC,{className:n("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background-primary disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-accent data-[state=unchecked]:bg-background-tertiary",s),...a,ref:t,children:(0,r.jsx)(N.bU,{className:n("pointer-events-none block h-5 w-5 rounded-full bg-background-primary shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});w.displayName=N.fC.displayName}},function(e){e.O(0,[630,21,545,293,53,744],function(){return e(e.s=4770)}),_N_E=e.O()}]);