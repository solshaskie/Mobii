(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[933],{8040:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4788);let r=(0,a.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8967:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4788);let r=(0,a.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5464:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4788);let r=(0,a.Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},498:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4788);let r=(0,a.Z)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4036:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4788);let r=(0,a.Z)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},9271:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4788);let r=(0,a.Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},6581:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4788);let r=(0,a.Z)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]])},8767:function(e,t,s){Promise.resolve().then(s.bind(s,4048))},4048:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});var a=s(7573),r=s(7653),i=s(2859),n=s(5021),l=s(4001),c=s(4365),o=s(3815),d=s(8531),u=s(5114),x=s(1296),m=s(4788);let h=(0,m.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var p=s(8967),f=s(206),y=s(5464),g=s(8040);let j=(0,m.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);var v=s(638);let b=(0,m.Z)("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);var N=s(5240),w=s(4186),k=s(6581),C=s(5592),E=s(3747),S=s(9690);let Z={1:{id:"1",title:"Morning Chair Yoga Flow",description:"Gentle stretches and breathing exercises to start your day",duration:15,difficulty:"beginner",calories:45,focusAreas:["flexibility","core"],exercises:[{id:"1-1",name:"Seated Cat-Cow Stretch",description:"Gentle spinal mobility exercise",duration:2,sets:1,reps:10,category:"warmup",instructions:["Sit comfortably in your chair with feet flat on the floor","Place hands on your knees","Inhale and arch your back, lifting your chest","Exhale and round your back, tucking your chin","Repeat for 10 breaths"]},{id:"1-2",name:"Seated Arm Circles",description:"Shoulder mobility and warmup",duration:1,sets:1,reps:10,category:"warmup",instructions:["Sit with your back straight","Extend your arms out to the sides","Make small circles with your arms","Do 10 forward circles, then 10 backward circles"]},{id:"1-3",name:"Chair Squats",description:"Lower body strength exercise",duration:3,sets:3,reps:12,category:"strength",instructions:["Stand in front of your chair","Lower yourself as if sitting down","Just before touching the chair, stand back up","Keep your weight in your heels","Repeat 12 times for 3 sets"]},{id:"1-4",name:"Seated Core Twists",description:"Core rotation and stability",duration:2,sets:3,reps:15,category:"strength",instructions:["Sit with your back straight","Place your hands behind your head","Rotate your torso to the right","Hold for 2 seconds, then rotate to the left","Repeat 15 times for each side"]},{id:"1-5",name:"Deep Breathing",description:"Relaxation and recovery",duration:2,sets:1,reps:5,category:"cooldown",instructions:["Sit comfortably with your eyes closed","Place one hand on your chest, one on your belly","Inhale deeply through your nose for 4 counts","Hold for 4 counts","Exhale slowly for 6 counts","Repeat 5 times"]}]},2:{id:"2",title:"Upper Body Strength",description:"Build strength in your arms, shoulders, and chest",duration:25,difficulty:"intermediate",calories:120,focusAreas:["upper-body","strength"],exercises:[{id:"2-1",name:"Chair Push-ups",description:"Upper body strength building",duration:3,sets:3,reps:10,category:"strength",instructions:["Place your hands on the edge of your chair","Walk your feet out so your body is at an angle","Lower your chest toward the chair","Push back up to starting position","Keep your core engaged throughout"]},{id:"2-2",name:"Seated Shoulder Press",description:"Shoulder strength and stability",duration:3,sets:3,reps:12,category:"strength",instructions:["Sit with your back straight","Hold imaginary weights at shoulder level","Press your arms up overhead","Lower back to shoulder level","Keep your core engaged"]}]}};function z(){let e=(0,i.useParams)(),t=e.id,s=Z[t],[m,z]=(0,r.useState)(0),[M,R]=(0,r.useState)(!1),[A,P]=(0,r.useState)(0),[F,I]=(0,r.useState)(0),[L,O]=(0,r.useState)(!1),[V,D]=(0,r.useState)(new Set),[_]=(0,r.useState)(()=>new o.q),[B,H]=(0,r.useState)(null),[W,Y]=(0,r.useState)(!1),[q,T]=(0,r.useState)(!1),[$,G]=(0,r.useState)([]),[U,K]=(0,r.useState)(0),J=null==s?void 0:s.exercises[m];if((0,r.useEffect)(()=>{s&&(I(60*s.exercises.reduce((e,t)=>e+t.duration,0)),P(60*s.exercises.reduce((e,t)=>e+t.duration,0)))},[s]),(0,r.useEffect)(()=>{let e;return M&&A>0&&(e=setInterval(()=>{P(e=>{if(e<=1){if(!(m<((null==s?void 0:s.exercises.length)||0)-1))return R(!1),0;{z(e=>e+1);let e=null==s?void 0:s.exercises[m+1];return e?60*e.duration:0}}return e-1})},1e3)),()=>clearInterval(e)},[M,A,m,s]),!s)return(0,a.jsx)("div",{className:"min-h-screen bg-background-primary flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-text-primary mb-4",children:"Workout Not Found"}),(0,a.jsxs)(l.zx,{onClick:()=>window.history.back(),children:[(0,a.jsx)(h,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})});let Q=(F-A)/F*100,X=m/s.exercises.length*100,ee=e=>{D(t=>new Set(Array.from(t).concat(e)))},et=async e=>{try{let t=await _.searchExerciseVideo(e,s.difficulty,(null==J?void 0:J.category)||"general");H(t)}catch(e){console.error("Failed to fetch exercise video:",e),H(null)}};return(0,r.useEffect)(()=>{J&&et(J.name)},[J]),(0,a.jsx)("div",{className:"min-h-screen bg-background-primary",children:(0,a.jsxs)("main",{className:"max-w-4xl mx-auto p-6 lg:p-8",children:[(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(p.Z,{className:"h-8 w-8 mx-auto mb-2 text-teal-400"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-text-primary",children:"".concat(Math.floor(A/60),":").concat((A%60).toString().padStart(2,"0"))}),(0,a.jsx)("div",{className:"text-sm text-text-muted",children:"Time Remaining"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(f.Z,{className:"h-8 w-8 mx-auto mb-2 text-purple-400"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-text-primary",children:[m+1,"/",s.exercises.length]}),(0,a.jsx)("div",{className:"text-sm text-text-muted",children:"Exercise"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(y.Z,{className:"h-8 w-8 mx-auto mb-2 text-orange-400"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-text-primary",children:Math.round((F-A)/60*3)}),(0,a.jsx)("div",{className:"text-sm text-text-muted",children:"Calories"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(g.Z,{className:"h-8 w-8 mx-auto mb-2 text-green-400"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-text-primary",children:V.size}),(0,a.jsx)("div",{className:"text-sm text-text-muted",children:"Completed"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-text-muted",children:"Overall Progress"}),(0,a.jsxs)("span",{className:"text-text-primary font-medium",children:[Math.round(Q),"%"]})]}),(0,a.jsx)(l.Ex,{value:Q,className:"h-3"})]})]})})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Current Exercise"}),(0,a.jsx)(l.Ct,{className:(null==J?void 0:J.category)==="warmup"?"bg-blue-500":(null==J?void 0:J.category)==="strength"?"bg-orange-500":"bg-green-500",children:null==J?void 0:J.category})]})}),(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:null==J?void 0:J.name}),(0,a.jsx)("p",{className:"text-text-muted mb-4",children:null==J?void 0:J.description}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-text-primary",children:null==J?void 0:J.duration}),(0,a.jsx)("div",{className:"text-sm text-text-muted",children:"Minutes"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-text-primary",children:null==J?void 0:J.sets}),(0,a.jsx)("div",{className:"text-sm text-text-muted",children:"Sets"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-text-primary",children:null==J?void 0:J.reps}),(0,a.jsx)("div",{className:"text-sm text-text-muted",children:"Reps"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-text-muted",children:"Exercise Progress"}),(0,a.jsxs)("span",{className:"text-text-primary font-medium",children:[Math.round(X),"%"]})]}),(0,a.jsx)(l.Ex,{value:X,className:"h-2"})]})]}),B&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(j,{className:"h-5 w-5 text-teal-400"}),(0,a.jsx)("h3",{className:"font-semibold text-text-primary",children:"Video Demonstration"})]}),(0,a.jsx)(c.n,{videoId:B.id,title:B.title,onClose:()=>Y(!1),className:"w-full"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-text-primary mb-3",children:"Instructions:"}),(0,a.jsx)("ol",{className:"space-y-2",children:null==J?void 0:J.instructions.map((e,t)=>(0,a.jsxs)("li",{className:"text-text-muted text-sm flex items-start gap-2",children:[(0,a.jsxs)("span",{className:"text-teal-400 font-bold",children:[t+1,"."]}),(0,a.jsx)("span",{children:e})]},t))})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsxs)(l.zx,{variant:"outline",onClick:()=>ee((null==J?void 0:J.id)||""),disabled:V.has((null==J?void 0:J.id)||""),children:[(0,a.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Mark Complete"]}),(0,a.jsx)(d.g,{exerciseName:null==J?void 0:J.name,instructions:null==J?void 0:J.instructions,className:"ml-4"}),(0,a.jsx)(u.s,{onCommand:e=>{switch(console.log("Voice command received:",e),e.action){case"pause_workout":R(!1);break;case"resume_workout":R(!0)}},className:"ml-4"}),(0,a.jsxs)(l.zx,{variant:q?"default":"outline",onClick:()=>T(!q),className:"ml-4",children:[(0,a.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),q?"Hide AI":"Show AI"]})]}),$.length>0&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"AI Form Feedback:"}),(0,a.jsx)("div",{className:"space-y-1",children:$.slice(-3).map((e,t)=>(0,a.jsxs)("div",{className:"text-sm text-blue-700",children:["• ",e]},t))})]}),U>0&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:U}),(0,a.jsx)("div",{className:"text-sm text-green-700",children:"AI Counted Reps"})]})})]})]})}),q&&J&&(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 text-teal-400"}),"AI Form Analysis"]})}),(0,a.jsx)(l.aY,{children:(0,a.jsx)(x.y,{exerciseName:J.name,instructions:J.instructions,onFormFeedback:e=>{G(t=>[...t,e])},onRepCount:e=>{K(e)},onComplete:()=>{J&&ee(J.id)}})})]})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,a.jsx)(l.zx,{variant:"outline",size:"lg",onClick:()=>{if(m>0){z(e=>e-1);let e=s.exercises[m-1];P(60*e.duration)}},disabled:0===m,children:(0,a.jsx)(b,{className:"h-5 w-5"})}),(0,a.jsx)(l.zx,{size:"lg",onClick:()=>{R(!M)},className:"bg-gradient-to-r from-teal-400 to-purple-600 hover:from-teal-500 hover:to-purple-700",children:M?(0,a.jsx)(N.Z,{className:"h-6 w-6"}):(0,a.jsx)(w.Z,{className:"h-6 w-6"})}),(0,a.jsx)(l.zx,{variant:"outline",size:"lg",onClick:()=>{if(m<s.exercises.length-1){z(e=>e+1);let e=s.exercises[m+1];P(60*e.duration)}},disabled:m===s.exercises.length-1,children:(0,a.jsx)(k.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-4",children:[(0,a.jsxs)(l.zx,{variant:"outline",onClick:()=>{z(0),P(F),R(!1),D(new Set)},children:[(0,a.jsx)(C.Z,{className:"mr-2 h-4 w-4"}),"Reset"]}),(0,a.jsx)(l.zx,{variant:"outline",onClick:()=>O(!L),children:L?(0,a.jsx)(E.Z,{className:"h-4 w-4"}):(0,a.jsx)(S.Z,{className:"h-4 w-4"})})]})]})})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{children:"Workout Plan"})}),(0,a.jsx)(l.aY,{children:(0,a.jsx)("div",{className:"space-y-2",children:s.exercises.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg transition-colors ".concat(t===m?"bg-gradient-to-r from-teal-400/20 to-purple-600/20 border border-teal-400/30":"bg-background-secondary"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat(V.has(e.id)?"bg-green-500 text-white":t===m?"bg-gradient-to-r from-teal-400 to-purple-600 text-white":"bg-background-primary text-text-muted"),children:V.has(e.id)?(0,a.jsx)(g.Z,{className:"h-4 w-4"}):t+1}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-text-primary",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-text-muted",children:[e.duration," min • ",e.sets,"x",e.reps]})]})]}),(0,a.jsx)(l.Ct,{className:"warmup"===e.category?"bg-blue-500":"strength"===e.category?"bg-orange-500":"bg-green-500",children:e.category})]},e.id))})})]})})]})})}},8531:function(e,t,s){"use strict";s.d(t,{g:function(){return x},m:function(){return u}});var a=s(7573),r=s(7653),i=s(4001),n=s(1981),l=s(4036),c=s(9271),o=s(5240),d=s(9690);function u(e){let{exerciseName:t,instructions:s,workoutTitle:d,exercises:u,onVoiceStart:x,onVoiceEnd:m,className:h=""}=e,[p]=(0,r.useState)(()=>new n.x),[f,y]=(0,r.useState)(!0),[g,j]=(0,r.useState)(!1),[v,b]=(0,r.useState)(null),[N,w]=(0,r.useState)("professional"),[k,C]=(0,r.useState)(!1),[E,S]=(0,r.useState)("checking"),Z=(0,r.useRef)(null);(0,r.useEffect)(()=>{z()},[]),(0,r.useEffect)(()=>()=>{v&&(v.pause(),v.src="")},[v]);let z=async()=>{let e=await p.testConnection();S(e?"connected":"disconnected")},M=async e=>{try{v&&(v.pause(),v.src="");let t=new Audio(e);Z.current=t,b(t),t.addEventListener("ended",()=>{j(!1),null==m||m()}),t.addEventListener("error",()=>{j(!1),console.error("Audio playback failed")}),j(!0),null==x||x(),await t.play()}catch(e){console.error("Failed to play audio:",e),j(!1)}},R=async()=>{if(t&&s&&f){C(!0);try{let e=await p.generateExerciseInstructions(t,s,N);e&&await M(e)}catch(e){console.error("Failed to generate exercise instructions:",e)}finally{C(!1)}}},A=async e=>{if(f){C(!0);try{let t=await p.generateMotivationalMessage(e,N);t&&await M(t)}catch(e){console.error("Failed to generate motivational message:",e)}finally{C(!1)}}},P=async()=>{if(d&&u&&f){C(!0);try{let e=await p.generateWorkoutNarration(d,u,N);e&&await M(e)}catch(e){console.error("Failed to generate workout narration:",e)}finally{C(!1)}}},F=async(e,t)=>{if(f){C(!0);try{let s=await p.generateTimingCues(e,t);s&&await M(s)}catch(e){console.error("Failed to generate timing cue:",e)}finally{C(!1)}}};return((0,r.useEffect)(()=>{t&&s&&f&&"connected"===E&&R()},[t,s,f,E]),"disconnected"===E)?(0,a.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg text-center ".concat(h),children:[(0,a.jsx)(l.Z,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Voice coaching unavailable. Add Eleven Labs API key to enable."})]}):(0,a.jsxs)("div",{className:"space-y-4 ".concat(h),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-teal-50 to-purple-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[f?(0,a.jsx)(c.Z,{className:"h-5 w-5 text-teal-600"}):(0,a.jsx)(l.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Voice Coach"})]}),"connected"===E&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-xs text-green-600",children:"Connected"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white",disabled:k,children:[(0,a.jsx)("option",{value:"professional",children:"Professional"}),(0,a.jsx)("option",{value:"motivational",children:"Motivational"}),(0,a.jsx)("option",{value:"calm",children:"Calm"}),(0,a.jsx)("option",{value:"friendly",children:"Friendly"}),(0,a.jsx)("option",{value:"energetic",children:"Energetic"})]}),(0,a.jsx)(i.zx,{variant:"outline",size:"sm",onClick:()=>y(!f),disabled:k,children:f?(0,a.jsx)(c.Z,{className:"h-4 w-4"}):(0,a.jsx)(l.Z,{className:"h-4 w-4"})}),g&&(0,a.jsx)(i.zx,{variant:"outline",size:"sm",onClick:()=>{v&&(v.pause(),v.src="",j(!1),null==m||m())},children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})]})]}),f&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)(i.zx,{variant:"outline",size:"sm",onClick:()=>A("encouragement"),disabled:k,className:"text-xs",children:"\uD83D\uDCAA Encouragement"}),(0,a.jsx)(i.zx,{variant:"outline",size:"sm",onClick:()=>F("countdown"),disabled:k,className:"text-xs",children:"⏱️ Timing Cue"}),d&&u&&(0,a.jsx)(i.zx,{variant:"outline",size:"sm",onClick:P,disabled:k,className:"text-xs col-span-2",children:"\uD83C\uDFAF Workout Overview"})]}),k&&(0,a.jsxs)("div",{className:"flex items-center justify-center p-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-teal-600"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Generating voice..."})]}),"checking"===E&&(0,a.jsxs)("div",{className:"text-center p-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mx-auto"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Checking voice service..."})]})]})}function x(e){let{exerciseName:t,instructions:s,onVoiceStart:u,onVoiceEnd:x,className:m=""}=e,[h]=(0,r.useState)(()=>new n.x),[p,f]=(0,r.useState)(!0),[y,g]=(0,r.useState)(!1),[j,v]=(0,r.useState)(null),b=async()=>{if(t&&s&&p)try{let e=await h.generateExerciseInstructions(t,s,"professional");if(e){let t=new Audio(e);v(t),t.addEventListener("ended",()=>{g(!1),null==x||x()}),g(!0),null==u||u(),await t.play()}}catch(e){console.error("Failed to play instructions:",e)}};return(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(m),children:[(0,a.jsx)(i.zx,{variant:"outline",size:"sm",onClick:y?()=>{j&&(j.pause(),j.src="",g(!1),null==x||x())}:b,disabled:!p,className:"flex items-center gap-1",children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"h-3 w-3"}),"Stop"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{className:"h-3 w-3"}),"Voice"]})}),(0,a.jsx)(i.zx,{variant:"ghost",size:"sm",onClick:()=>f(!p),className:"p-1",children:p?(0,a.jsx)(c.Z,{className:"h-3 w-3"}):(0,a.jsx)(l.Z,{className:"h-3 w-3"})})]})}},2859:function(e,t,s){e.exports=s(7699)},7277:function(e,t,s){"use strict";s.d(t,{M:function(){return f}});var a=s(7653),r=s(323);function i(){let e=(0,a.useRef)(!1);return(0,r.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var n=s(6564),l=s(693),c=s(8787);class o extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let s=(0,a.useId)(),r=(0,a.useRef)(null),i=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{let{width:e,height:a,top:n,left:l}=i.current;if(t||!r.current||!e||!a)return;r.current.dataset.motionPopId=s;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${n}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),a.createElement(o,{isPresent:t,childRef:r,sizeRef:i},a.cloneElement(e,{ref:r}))}let u=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:n,mode:o})=>{let u=(0,c.h)(x),m=(0,a.useId)(),h=(0,a.useMemo)(()=>({id:m,initial:t,isPresent:s,custom:i,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;r&&r()},register:e=>(u.set(e,!1),()=>u.delete(e))}),n?void 0:[s]);return(0,a.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[s]),a.useEffect(()=>{s||u.size||!r||r()},[s]),"popLayout"===o&&(e=a.createElement(d,{isPresent:s},e)),a.createElement(l.O.Provider,{value:h},e)};function x(){return new Map}var m=s(4258),h=s(8256);let p=e=>e.key||"",f=({children:e,custom:t,initial:s=!0,onExitComplete:l,exitBeforeEnter:c,presenceAffectsLayout:o=!0,mode:d="sync"})=>{var x;(0,h.k)(!c,"Replace exitBeforeEnter with mode='wait'");let f=(0,a.useContext)(m.p).forceRender||function(){let e=i(),[t,s]=(0,a.useState)(0),r=(0,a.useCallback)(()=>{e.current&&s(t+1)},[t]),l=(0,a.useCallback)(()=>n.Wi.postRender(r),[r]);return[l,t]}()[0],y=i(),g=function(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}(e),j=g,v=(0,a.useRef)(new Map).current,b=(0,a.useRef)(j),N=(0,a.useRef)(new Map).current,w=(0,a.useRef)(!0);if((0,r.L)(()=>{w.current=!1,function(e,t){e.forEach(e=>{let s=p(e);t.set(s,e)})}(g,N),b.current=j}),x=()=>{w.current=!0,N.clear(),v.clear()},(0,a.useEffect)(()=>()=>x(),[]),w.current)return a.createElement(a.Fragment,null,j.map(e=>a.createElement(u,{key:p(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:o,mode:d},e)));j=[...j];let k=b.current.map(p),C=g.map(p),E=k.length;for(let e=0;e<E;e++){let t=k[e];-1!==C.indexOf(t)||v.has(t)||v.set(t,void 0)}return"wait"===d&&v.size&&(j=[]),v.forEach((e,s)=>{if(-1!==C.indexOf(s))return;let r=N.get(s);if(!r)return;let i=k.indexOf(s),n=e;n||(n=a.createElement(u,{key:p(r),isPresent:!1,onExitComplete:()=>{v.delete(s);let e=Array.from(N.keys()).filter(e=>!C.includes(e));if(e.forEach(e=>N.delete(e)),b.current=g.filter(t=>{let a=p(t);return a===s||e.includes(a)}),!v.size){if(!1===y.current)return;f(),l&&l()}},custom:t,presenceAffectsLayout:o,mode:d},r),v.set(s,n)),j.splice(i,0,n)}),j=j.map(e=>{let t=e.key;return v.has(t)?e:a.createElement(u,{key:p(e),isPresent:!0,presenceAffectsLayout:o,mode:d},e)}),a.createElement(a.Fragment,null,v.size?j:j.map(e=>(0,a.cloneElement)(e)))}}},function(e){e.O(0,[630,21,119,468,114,296,806,293,53,744],function(){return e(e.s=8767)}),_N_E=e.O()}]);