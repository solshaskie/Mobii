(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{8690:function(e,t,r){"use strict";var o,n;e.exports=(null==(o=r.g.process)?void 0:o.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(3079)},1958:function(e,t,r){"use strict";r.d(t,{AIService:function(){return n}}),r(7573),r(7653),r(4001);var o=r(8690);class n{async generateWorkout(e){try{if(this.huggingFaceKey)return await this.generateWithHuggingFace(e);if(this.geminiKey)return await this.generateWithGemini(e);if(this.perplexityKey)return await this.generateWithPerplexity(e);return this.generateDefaultWorkout(e)}catch(t){return console.error("AI generation failed, using default workout:",t),this.generateDefaultWorkout(e)}}async generateWithHuggingFace(e){var t;let r=this.createWorkoutPrompt(e),o=await fetch("https://api-inference.huggingface.co/models/microsoft/DialoGPT-medium",{method:"POST",headers:{Authorization:"Bearer ".concat(this.huggingFaceKey),"Content-Type":"application/json"},body:JSON.stringify({inputs:r,parameters:{max_length:500,temperature:.7,do_sample:!0}})});if(!o.ok)throw Error("Hugging Face API error: ".concat(o.status));let n=await o.json();return this.parseWorkoutResponse((null===(t=n[0])||void 0===t?void 0:t.generated_text)||"",e)}async generateWithGemini(e){var t,r,o,n,i;let a=this.createWorkoutPrompt(e),s=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=".concat(this.geminiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:a}]}]})});if(!s.ok)throw Error("Gemini API error: ".concat(s.status));let c=await s.json(),u=(null===(i=c.candidates)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:null===(o=n.content)||void 0===o?void 0:null===(r=o.parts)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.text)||"";return this.parseWorkoutResponse(u,e)}async generateWithPerplexity(e){var t,r,o;let n=this.createWorkoutPrompt(e),i=await fetch("https://api.perplexity.ai/chat/completions",{method:"POST",headers:{Authorization:"Bearer ".concat(this.perplexityKey),"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-sonar-small-128k-online",messages:[{role:"user",content:n}],max_tokens:500})});if(!i.ok)throw Error("Perplexity API error: ".concat(i.status));let a=await i.json(),s=(null===(o=a.choices)||void 0===o?void 0:null===(r=o[0])||void 0===r?void 0:null===(t=r.message)||void 0===t?void 0:t.content)||"";return this.parseWorkoutResponse(s,e)}createWorkoutPrompt(e){return"Generate a ".concat(e.duration,"-minute ").concat(e.difficulty," chair yoga and calisthenics workout focusing on ").concat(e.focusAreas.join(", "),". \n    \n    Requirements:\n    - Duration: ").concat(e.duration," minutes\n    - Difficulty: ").concat(e.difficulty,"\n    - Focus areas: ").concat(e.focusAreas.join(", "),"\n    - Equipment: Chair-based exercises\n    - Format: JSON with title, description, exercises array, and calories estimate\n    \n    Please provide a structured workout that's safe and effective for the specified fitness level.")}parseWorkoutResponse(e,t){try{let o=e.match(/\{[\s\S]*\}/);if(o){var r;let e=JSON.parse(o[0]);return{id:"ai-".concat(Date.now()),title:e.title||"AI Generated ".concat(t.difficulty," Workout"),description:e.description||"A personalized ".concat(t.difficulty," workout"),duration:t.duration,difficulty:t.difficulty,calories:e.calories||Math.round(4.5*t.duration),exerciseCount:(null===(r=e.exercises)||void 0===r?void 0:r.length)||8,focusAreas:t.focusAreas,exercises:e.exercises||this.getDefaultExercises(t)}}}catch(e){console.warn("Failed to parse AI response as JSON, using default:",e)}return this.generateDefaultWorkout(t)}generateDefaultWorkout(e){let t=this.getDefaultExercises(e);return{id:"default-".concat(Date.now()),title:"Smart ".concat(e.difficulty," Workout"),description:"A personalized ".concat(e.difficulty," workout focusing on ").concat(e.focusAreas.join(", ")),duration:e.duration,difficulty:e.difficulty,calories:Math.round(4.5*e.duration),exerciseCount:t.length,focusAreas:e.focusAreas,exercises:t}}getDefaultExercises(e){let t={"Upper Body":["Upper Body"],"Lower Body":["Lower Body"],Core:["Core"],Flexibility:["Warmup"],Strength:["Upper Body","Lower Body","Core"],Balance:["Core","Lower Body"]},r=e.focusAreas.flatMap(e=>t[e]||["Warmup"]);return[{name:"Seated Deep Breathing",description:"Sit tall, inhale deeply through nose, exhale slowly through mouth",duration:60,sets:1,reps:"5 breaths",category:"Warmup"},{name:"Seated Neck Stretches",description:"Gently tilt head side to side, forward and back",duration:45,sets:1,reps:"5 each direction",category:"Warmup"},{name:"Seated Shoulder Rolls",description:"Roll shoulders forward and backward in circular motion",duration:45,sets:1,reps:"10 each direction",category:"Warmup"},{name:"Seated Arm Circles",description:"Make small circles with arms, gradually increasing size",duration:60,sets:2,reps:"10 each direction",category:"Upper Body"},{name:"Seated Knee Lifts",description:"Lift knees alternately while sitting tall",duration:60,sets:2,reps:"15 each leg",category:"Lower Body"},{name:"Seated Side Bends",description:"Lean to each side while keeping back straight",duration:45,sets:2,reps:"8 each side",category:"Core"},{name:"Seated Leg Extensions",description:"Extend legs straight out, hold, then lower",duration:60,sets:2,reps:"12 each leg",category:"Lower Body"},{name:"Seated Cat-Cow Stretch",description:"Round and arch back while seated",duration:45,sets:1,reps:"8 cycles",category:"Core"}].filter(e=>r.includes(e.category)).slice(0,Math.min(8,Math.ceil(e.duration/5)))}async generateMotivationalMessage(){let e=["You're doing amazing! Every movement counts towards your goals.","Your body is capable of incredible things. Keep pushing forward!","Remember: progress, not perfection. You've got this!","Each workout makes you stronger, both physically and mentally.","You're building a healthier, stronger version of yourself today.","Consistency beats intensity. You're showing up, and that's what matters!","Your future self will thank you for this workout.","You're not just exercising, you're investing in your wellbeing."];return e[Math.floor(Math.random()*e.length)]}async analyzeFormFeedback(e,t){return({"Seated Deep Breathing":"Focus on breathing from your diaphragm, not your chest.","Seated Neck Stretches":"Move slowly and gently. Don't force the stretch.","Seated Shoulder Rolls":"Keep your movements smooth and controlled.","Seated Arm Circles":"Start small and gradually increase the circle size.","Seated Knee Lifts":"Keep your back straight and engage your core.","Seated Side Bends":"Don't lean forward or backward, just to the side.","Seated Leg Extensions":"Point your toes and engage your thigh muscles.","Seated Cat-Cow Stretch":"Move with your breath for better flow."})[e]||"Keep good form and listen to your body."}constructor(){this.huggingFaceKey=o.env.NEXT_PUBLIC_HUGGING_FACE_API_KEY,this.geminiKey=o.env.NEXT_PUBLIC_GOOGLE_GEMINI_API_KEY,this.perplexityKey=o.env.NEXT_PUBLIC_PERPLEXITY_API_KEY}}r(8690)},3079:function(e){!function(){var t={229:function(e){var t,r,o,n=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c=[],u=!1,l=-1;function d(){u&&o&&(u=!1,o.length?c=o.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(o=c,c=[];++l<t;)o&&o[l].run();l=-1,t=c.length}o=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,o),a=!1}finally{a&&delete r[e]}return i.exports}o.ab="//";var n=o(229);e.exports=n}()}}]);