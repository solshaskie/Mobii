"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[776],{4036:function(e,t,i){i.d(t,{Z:function(){return n}});var s=i(4788);let n=(0,s.Z)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},9271:function(e,t,i){i.d(t,{Z:function(){return n}});var s=i(4788);let n=(0,s.Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},6581:function(e,t,i){i.d(t,{Z:function(){return n}});var s=i(4788);let n=(0,s.Z)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]])},7342:function(e,t,i){i.d(t,{Z:function(){return n}});var s=i(4788);let n=(0,s.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5424:function(e,t,i){i.d(t,{s:function(){return x},z:function(){return g}});var s=i(7573),n=i(7653),o=i(4001),c=i(4036),r=i(9271),a=i(4788);let l=(0,a.Z)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var d=i(7342);class m{initializeSpeechRecognition(){if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){let e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,this.recognition.continuous=!0,this.recognition.interimResults=!1,this.recognition.lang="en-US",this.recognition.maxAlternatives=1,this.recognition.onstart=()=>{var e;console.log("Voice recognition started"),this.isListening=!0,null===(e=this.onListeningChangeCallback)||void 0===e||e.call(this,!0)},this.recognition.onend=()=>{var e;console.log("Voice recognition ended"),this.isListening=!1,null===(e=this.onListeningChangeCallback)||void 0===e||e.call(this,!1),this.isListening&&this.startListening()},this.recognition.onresult=e=>{let t=e.results[e.results.length-1][0].transcript.toLowerCase(),i=e.results[e.results.length-1][0].confidence;console.log("Heard:",t,"Confidence:",i),this.processCommand(t,i)},this.recognition.onerror=e=>{var t;console.error("Speech recognition error:",e.error),this.isListening=!1,null===(t=this.onListeningChangeCallback)||void 0===t||t.call(this,!1)}}else console.warn("Speech recognition not supported in this browser")}initializeSpeechSynthesis(){"speechSynthesis"in window?this.synthesis=window.speechSynthesis:console.warn("Speech synthesis not supported in this browser")}processCommand(e,t){let i=null,s=0;for(let t of this.commands)for(let n of t.keywords)if(e.includes(n.toLowerCase())){let o=this.calculateMatchScore(e,n);o>s&&(s=o,i=t)}if(i&&s>.3){var n;let s={command:e,action:i.action,confidence:t,response:i.response};console.log("Command recognized:",s),s.response&&this.speakResponse(s.response),null===(n=this.onCommandCallback)||void 0===n||n.call(this,s)}else console.log("No command recognized for:",e),this.speakResponse("I didn't understand that command. Try saying 'help' for available commands.")}calculateMatchScore(e,t){let i=e.split(" "),s=t.toLowerCase().split(" "),n=0;for(let e of s)i.some(t=>t.includes(e)||e.includes(t))&&n++;return n/s.length}speakResponse(e){if(this.synthesis){this.synthesis.cancel();let t=new SpeechSynthesisUtterance(e);t.rate=.9,t.pitch=1,t.volume=.8;let i=this.synthesis.getVoices(),s=i.find(e=>e.name.includes("Google")||e.name.includes("Natural")||e.name.includes("Premium"));s&&(t.voice=s),this.synthesis.speak(t)}}startListening(){if(this.recognition&&!this.isListening)try{this.recognition.start()}catch(e){console.error("Failed to start speech recognition:",e)}}stopListening(){if(this.recognition&&this.isListening){var e;this.recognition.stop(),this.isListening=!1,null===(e=this.onListeningChangeCallback)||void 0===e||e.call(this,!1)}}toggleListening(){this.isListening?this.stopListening():this.startListening()}isVoiceListening(){return this.isListening}setOnCommand(e){this.onCommandCallback=e}setOnListeningChange(e){this.onListeningChangeCallback=e}getAvailableCommands(){return this.commands}speakText(e){this.speakResponse(e)}testVoiceCommand(e){this.processCommand(e.toLowerCase(),.9)}constructor(){this.recognition=null,this.synthesis=null,this.isListening=!1,this.onCommandCallback=null,this.onListeningChangeCallback=null,this.commands=[{id:"pause",keywords:["pause","stop","hold","wait"],action:"pause_workout",description:"Pause the current workout",response:'Workout paused. Say "resume" to continue.'},{id:"resume",keywords:["resume","continue","start","go","play"],action:"resume_workout",description:"Resume the paused workout",response:"Resuming workout. Let's keep going!"},{id:"stop",keywords:["stop workout","end workout","finish","quit"],action:"stop_workout",description:"Stop and end the workout",response:"Workout stopped. Great job today!"},{id:"change_voice",keywords:["change voice","new voice","different voice","switch voice"],action:"change_voice_coach",description:"Change the voice coach style",response:"Changing voice coach. What style would you prefer?"},{id:"motivational_voice",keywords:["motivational","energetic","pump me up"],action:"set_voice_motivational",description:"Set voice to motivational style",response:"Switching to motivational voice coach!"},{id:"calm_voice",keywords:["calm","relaxed","soothing","gentle"],action:"set_voice_calm",description:"Set voice to calm style",response:"Switching to calm voice coach."},{id:"professional_voice",keywords:["professional","clear","instructional"],action:"set_voice_professional",description:"Set voice to professional style",response:"Switching to professional voice coach."},{id:"form_check",keywords:["am i doing this correctly","how is my form","check my form","am i doing it right"],action:"check_form",description:"Get real-time form feedback",response:"Let me check your form. Hold that position."},{id:"form_help",keywords:["help me","i need help","what should i do","guide me"],action:"get_form_help",description:"Get help with current exercise",response:"I'll guide you through this exercise step by step."},{id:"change_music",keywords:["change music","new music","different music","switch music"],action:"change_music",description:"Change the background music",response:"Changing the music. What genre would you like?"},{id:"motivational_music",keywords:["motivational music","pump up music","energetic music"],action:"set_music_motivational",description:"Set music to motivational genre",response:"Playing motivational music to keep you energized!"},{id:"calm_music",keywords:["calm music","relaxing music","peaceful music"],action:"set_music_calm",description:"Set music to calm genre",response:"Switching to calming music for focus."},{id:"time_remaining",keywords:["how much longer","time left","how much time","remaining time"],action:"get_time_remaining",description:"Get time remaining for current exercise",response:"Let me check how much time is left."},{id:"workout_progress",keywords:["how am i doing","my progress","workout status","how many reps"],action:"get_workout_progress",description:"Get current workout progress",response:"Let me check your progress so far."},{id:"similar_exercises",keywords:["more like this","similar exercises","recommend exercises","what else"],action:"get_similar_exercises",description:"Get recommendations for similar exercises",response:"I'll find some similar exercises for you."},{id:"next_exercise",keywords:["next exercise","what's next","next workout","next move"],action:"get_next_exercise",description:"Get information about the next exercise",response:"Let me tell you about the next exercise."},{id:"volume_up",keywords:["volume up","louder","turn up volume","increase volume"],action:"volume_up",description:"Increase voice volume",response:"Increasing volume."},{id:"volume_down",keywords:["volume down","quieter","turn down volume","decrease volume"],action:"volume_down",description:"Decrease voice volume",response:"Decreasing volume."},{id:"mute",keywords:["mute","silence","quiet","turn off voice"],action:"mute_voice",description:"Mute voice coaching",response:'Voice coaching muted. Say "unmute" to turn it back on.'},{id:"unmute",keywords:["unmute","turn on voice","enable voice","voice on"],action:"unmute_voice",description:"Unmute voice coaching",response:"Voice coaching enabled again!"}],this.initializeSpeechRecognition(),this.initializeSpeechSynthesis()}}let h=new m;var u=i(5021),p=i(7277);let g=e=>{let{onCommand:t,className:i="",showCommands:a=!0,autoStart:m=!1}=e,[g,x]=(0,n.useState)(!1),[f,y]=(0,n.useState)(null),[v,w]=(0,n.useState)([]),[k,j]=(0,n.useState)(!1),[C,b]=(0,n.useState)(!0),[N,_]=(0,n.useState)(null),L=(0,n.useRef)(null);return((0,n.useEffect)(()=>{if(!("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){b(!1),_("Speech recognition not supported in this browser");return}return h.setOnCommand(e=>{y(e),w(t=>[e,...t.slice(0,4)]),null==t||t(e)}),h.setOnListeningChange(e=>{x(e)}),m&&h.startListening(),()=>{h.stopListening()}},[t,m]),C)?(0,s.jsxs)("div",{className:"space-y-4 ".concat(i),children:[(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{className:"pb-3",children:(0,s.jsxs)(o.ll,{className:"flex items-center justify-between text-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Z,{className:"h-5 w-5 text-teal-500"}),"Voice Commands"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.zx,{variant:"ghost",size:"sm",onClick:()=>j(!k),className:"h-8 w-8 p-0",children:(0,s.jsx)(l,{className:"h-4 w-4"})}),v.length>0&&(0,s.jsx)(o.zx,{variant:"ghost",size:"sm",onClick:()=>{w([]),y(null)},className:"h-8 w-8 p-0",children:(0,s.jsx)(d.Z,{className:"h-4 w-4"})})]})]})}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(u.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,s.jsx)(o.zx,{onClick:()=>{g?h.stopListening():h.startListening()},size:"lg",variant:g?"default":"outline",className:"h-16 w-16 rounded-full ".concat(g?"bg-red-500 hover:bg-red-600 text-white":"bg-teal-500 hover:bg-teal-600 text-white"),children:g?(0,s.jsx)(c.Z,{className:"h-6 w-6"}):(0,s.jsx)(r.Z,{className:"h-6 w-6"})})})}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(p.M,{mode:"wait",children:g?(0,s.jsxs)(u.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Listening for commands..."})]},"listening"):(0,s.jsx)(u.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-sm text-gray-500",children:"Click microphone to start voice commands"},"not-listening")})}),(0,s.jsx)(p.M,{children:f&&(0,s.jsx)(u.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-blue-800",children:['Command: "',f.command,'"']}),(0,s.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:["Action: ",f.action]}),(0,s.jsxs)("div",{className:"text-xs text-blue-500 mt-1",children:["Confidence: ",(100*f.confidence).toFixed(1),"%"]})]}),(0,s.jsx)(o.Ct,{variant:"secondary",className:"text-xs",children:f.action.replace("_"," ")})]})})})]})]}),v.length>0&&(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{className:"pb-3",children:(0,s.jsx)(o.ll,{className:"text-sm",children:"Recent Commands"})}),(0,s.jsx)(o.aY,{children:(0,s.jsx)("div",{className:"space-y-2",children:v.map((e,t)=>(0,s.jsxs)(u.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:e.command}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.action})]}),(0,s.jsxs)(o.Ct,{variant:"outline",className:"text-xs",children:[(100*e.confidence).toFixed(0),"%"]})]},t))})})]}),(0,s.jsx)(p.M,{children:k&&(0,s.jsx)(u.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{className:"pb-3",children:(0,s.jsx)(o.ll,{className:"text-sm",children:"Available Voice Commands"})}),(0,s.jsx)(o.aY,{children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",ref:L,children:h.getAvailableCommands().map(e=>(0,s.jsxs)("div",{className:"p-2 border rounded text-xs",children:[(0,s.jsx)("div",{className:"font-medium text-gray-800",children:e.description}),(0,s.jsxs)("div",{className:"text-gray-500 mt-1",children:['Try: "',e.keywords[0],'"']})]},e.id))})})]})})})]}):(0,s.jsx)(o.Zb,{className:i,children:(0,s.jsx)(o.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm",children:N})]})})})},x=e=>{let{onCommand:t,className:i=""}=e,[a,l]=(0,n.useState)(!1),[d,m]=(0,n.useState)(null);return(0,n.useEffect)(()=>(h.setOnCommand(e=>{m(e.action),null==t||t(e),setTimeout(()=>m(null),3e3)}),h.setOnListeningChange(e=>{l(e)}),()=>{h.stopListening()}),[t]),(0,s.jsxs)("div",{className:"flex items-center gap-2 ".concat(i),children:[(0,s.jsx)(o.zx,{onClick:()=>{a?h.stopListening():h.startListening()},size:"sm",variant:a?"default":"outline",className:"h-10 w-10 rounded-full p-0 ".concat(a?"bg-red-500 hover:bg-red-600":""),children:a?(0,s.jsx)(c.Z,{className:"h-4 w-4"}):(0,s.jsx)(r.Z,{className:"h-4 w-4"})}),(0,s.jsx)(p.M,{children:d&&(0,s.jsx)(u.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"text-xs text-gray-600",children:d.replace("_"," ")})})]})}},7277:function(e,t,i){i.d(t,{M:function(){return x}});var s=i(7653),n=i(323);function o(){let e=(0,s.useRef)(!1);return(0,n.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var c=i(6564),r=i(693),a=i(8787);class l extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let i=(0,s.useId)(),n=(0,s.useRef)(null),o=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)(()=>{let{width:e,height:s,top:c,left:r}=o.current;if(t||!n.current||!e||!s)return;n.current.dataset.motionPopId=i;let a=document.createElement("style");return document.head.appendChild(a),a.sheet&&a.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${c}px !important;
            left: ${r}px !important;
          }
        `),()=>{document.head.removeChild(a)}},[t]),s.createElement(l,{isPresent:t,childRef:n,sizeRef:o},s.cloneElement(e,{ref:n}))}let m=({children:e,initial:t,isPresent:i,onExitComplete:n,custom:o,presenceAffectsLayout:c,mode:l})=>{let m=(0,a.h)(h),u=(0,s.useId)(),p=(0,s.useMemo)(()=>({id:u,initial:t,isPresent:i,custom:o,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;n&&n()},register:e=>(m.set(e,!1),()=>m.delete(e))}),c?void 0:[i]);return(0,s.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[i]),s.useEffect(()=>{i||m.size||!n||n()},[i]),"popLayout"===l&&(e=s.createElement(d,{isPresent:i},e)),s.createElement(r.O.Provider,{value:p},e)};function h(){return new Map}var u=i(4258),p=i(8256);let g=e=>e.key||"",x=({children:e,custom:t,initial:i=!0,onExitComplete:r,exitBeforeEnter:a,presenceAffectsLayout:l=!0,mode:d="sync"})=>{var h;(0,p.k)(!a,"Replace exitBeforeEnter with mode='wait'");let x=(0,s.useContext)(u.p).forceRender||function(){let e=o(),[t,i]=(0,s.useState)(0),n=(0,s.useCallback)(()=>{e.current&&i(t+1)},[t]),r=(0,s.useCallback)(()=>c.Wi.postRender(n),[n]);return[r,t]}()[0],f=o(),y=function(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}(e),v=y,w=(0,s.useRef)(new Map).current,k=(0,s.useRef)(v),j=(0,s.useRef)(new Map).current,C=(0,s.useRef)(!0);if((0,n.L)(()=>{C.current=!1,function(e,t){e.forEach(e=>{let i=g(e);t.set(i,e)})}(y,j),k.current=v}),h=()=>{C.current=!0,j.clear(),w.clear()},(0,s.useEffect)(()=>()=>h(),[]),C.current)return s.createElement(s.Fragment,null,v.map(e=>s.createElement(m,{key:g(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:l,mode:d},e)));v=[...v];let b=k.current.map(g),N=y.map(g),_=b.length;for(let e=0;e<_;e++){let t=b[e];-1!==N.indexOf(t)||w.has(t)||w.set(t,void 0)}return"wait"===d&&w.size&&(v=[]),w.forEach((e,i)=>{if(-1!==N.indexOf(i))return;let n=j.get(i);if(!n)return;let o=b.indexOf(i),c=e;c||(c=s.createElement(m,{key:g(n),isPresent:!1,onExitComplete:()=>{w.delete(i);let e=Array.from(j.keys()).filter(e=>!N.includes(e));if(e.forEach(e=>j.delete(e)),k.current=y.filter(t=>{let s=g(t);return s===i||e.includes(s)}),!w.size){if(!1===f.current)return;x(),r&&r()}},custom:t,presenceAffectsLayout:l,mode:d},n),w.set(i,c)),v.splice(o,0,c)}),v=v.map(e=>{let t=e.key;return w.has(t)?e:s.createElement(m,{key:g(e),isPresent:!0,presenceAffectsLayout:l,mode:d},e)}),s.createElement(s.Fragment,null,w.size?v:v.map(e=>(0,s.cloneElement)(e)))}}}]);