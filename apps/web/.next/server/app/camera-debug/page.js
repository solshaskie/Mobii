(()=>{var e={};e.id=139,e.ids=[139],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7071:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>d});var r=a(6965),s=a(4902),n=a(6408),i=a.n(n),l=a(4346),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);a.d(t,c);let d=["",{children:["camera-debug",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7706)),"C:\\Users\\Ashley\\Mobii\\apps\\web\\src\\app\\camera-debug\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1231)),"C:\\Users\\Ashley\\Mobii\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5438,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Ashley\\Mobii\\apps\\web\\src\\app\\camera-debug\\page.tsx"],u="/camera-debug/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/camera-debug/page",pathname:"/camera-debug",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1579:(e,t,a)=>{Promise.resolve().then(a.bind(a,4210))},4210:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(5402),s=a(6964),n=a(9472);function i(){let[e,t]=(0,s.useState)(!1),[a,i]=(0,s.useState)([]),l=(0,s.useRef)(null),c=(0,s.useRef)(null),d=e=>{let t=new Date().toLocaleTimeString();i(a=>[...a,`${t}: ${e}`]),console.log(`[${t}] ${e}`)},o=async()=>{try{d("Starting camera request..."),t(!1);let e=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"}});if(d(`Camera stream obtained: ${e.id}`),d(`Stream tracks: ${e.getTracks().map(e=>e.kind).join(", ")}`),l.current){d("Setting video srcObject..."),l.current.srcObject=e,c.current=e,d("Setting isCameraOn to true..."),t(!0),d("isCameraOn state after setState: true");try{d("Attempting to play video..."),await l.current.play(),d("Video play() successful")}catch(e){d(`Video play() failed: ${e}`)}l.current.onloadedmetadata=()=>{d(`Video metadata loaded: ${l.current?.videoWidth}x${l.current?.videoHeight}`)},l.current.oncanplay=()=>{d("Video can play event fired")},l.current.onerror=e=>{d(`Video error: ${e}`)},l.current.onplay=()=>{d("Video play event fired")},l.current.onplaying=()=>{d("Video playing event fired")}}else d("ERROR: videoRef.current is null")}catch(e){d(`Camera access failed: ${e}`),t(!1)}},u=()=>{d("Stopping camera..."),c.current&&(c.current.getTracks().forEach(e=>{d(`Stopping track: ${e.kind}`),e.stop()}),c.current=null),l.current&&(l.current.srcObject=null),t(!1),d("Camera stopped")};return(0,s.useEffect)(()=>{d(`isCameraOn state changed to: ${e}`)},[e]),r.jsx("div",{className:"min-h-screen bg-background-primary p-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-4",children:"Camera State Debug"}),r.jsx("p",{className:"text-text-muted",children:"Debug camera state management issues"})]}),(0,r.jsxs)(n.Zb,{className:"mb-6",children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"Camera Status"})}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${e?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-sm",children:e?"Camera Active":"Camera Inactive"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["State Value: ",e.toString()]})]})})]}),(0,r.jsxs)(n.Zb,{className:"mb-6",children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"Camera Controls"})}),r.jsx(n.aY,{children:r.jsx("div",{className:"flex gap-4",children:r.jsx(n.zx,{onClick:()=>{e?u():o()},variant:e?"destructive":"default",className:"flex items-center gap-2",children:e?"Stop Camera":"Start Camera"})})})]}),(0,r.jsxs)(n.Zb,{className:"mb-6",children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"Video Feed"})}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg border",style:{maxHeight:"400px",minHeight:"300px",backgroundColor:"#f0f0f0"}}),!e&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:"\uD83D\uDCF9"}),r.jsx("div",{className:"text-gray-600",children:'Click "Start Camera" to begin'})]})})]})})]}),(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"Debug Log"})}),r.jsx(n.aY,{children:r.jsx("div",{className:"bg-black text-green-400 p-4 rounded-lg font-mono text-xs max-h-60 overflow-y-auto",children:0===a.length?r.jsx("div",{className:"text-gray-500",children:"No debug info yet..."}):a.map((e,t)=>r.jsx("div",{className:"mb-1",children:e},t))})})]})]})})}},7706:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>c});var r=a(4074);let s=(0,r.createProxy)(String.raw`C:\Users\Ashley\Mobii\apps\web\src\app\camera-debug\page.tsx`),{__esModule:n,$$typeof:i}=s,l=s.default,c=l}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[819,342],()=>a(7071));module.exports=r})();