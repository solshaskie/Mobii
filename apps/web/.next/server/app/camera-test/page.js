(()=>{var e={};e.id=825,e.ids=[825],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1863:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d});var r=t(6965),s=t(4902),i=t(6408),n=t.n(i),l=t(4346),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(a,c);let d=["",{children:["camera-test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1964)),"C:\\Users\\Ashley\\Mobii\\apps\\web\\src\\app\\camera-test\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1231)),"C:\\Users\\Ashley\\Mobii\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5438,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Ashley\\Mobii\\apps\\web\\src\\app\\camera-test\\page.tsx"],m="/camera-test/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/camera-test/page",pathname:"/camera-test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1095:(e,a,t)=>{Promise.resolve().then(t.bind(t,8434))},8434:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var r=t(5402),s=t(6964),i=t(9472);function n(){let[e,a]=(0,s.useState)(!1),[t,n]=(0,s.useState)(""),[l,c]=(0,s.useState)("Ready"),[d,o]=(0,s.useState)([]),m=(0,s.useRef)(null),u=(0,s.useRef)(null),x=e=>{o(a=>[...a,`${new Date().toLocaleTimeString()}: ${e}`])},p=async()=>{try{x("Starting camera request..."),c("Requesting camera..."),n("");let e=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"}});if(x(`Camera stream obtained: ${e.id}`),x(`Stream tracks: ${e.getTracks().map(e=>e.kind).join(", ")}`),c("Camera stream obtained"),m.current){x("Setting video srcObject..."),m.current.srcObject=e,u.current=e,a(!0),c("Video element updated"),x("Attempting to play video...");try{await m.current.play(),x("Video play() successful"),c("Video playing")}catch(e){x(`Video play() failed: ${e}`),n("Failed to play video: "+e.message)}m.current.onloadedmetadata=()=>{x(`Video metadata loaded: ${m.current?.videoWidth}x${m.current?.videoHeight}`),c("Video metadata loaded")},m.current.oncanplay=()=>{x("Video can play event fired"),c("Video can play")},m.current.onerror=e=>{x(`Video error: ${e}`),n("Video error occurred")},m.current.onplay=()=>{x("Video play event fired")},m.current.onplaying=()=>{x("Video playing event fired")}}else x("ERROR: videoRef.current is null"),n("Video element not found")}catch(e){x(`Camera access failed: ${e}`),console.error("Failed to start camera:",e),n("Camera access denied: "+e.message),c("Failed")}},g=async()=>{try{x("Testing camera access..."),c("Testing camera access...");let e=await navigator.mediaDevices.enumerateDevices(),a=e.filter(e=>"videoinput"===e.kind);x(`Found ${a.length} video device(s)`),a.forEach((e,a)=>{x(`Device ${a}: ${e.label||"Unknown"}`)}),c(`Found ${a.length} video device(s)`)}catch(e){x(`Failed to enumerate devices: ${e}`),console.error("Failed to enumerate devices:",e),n("Failed to enumerate devices: "+e.message)}};return(0,s.useEffect)(()=>{g()},[]),r.jsx("div",{className:"min-h-screen bg-background-primary p-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-4",children:"Minimal Camera Test"}),r.jsx("p",{className:"text-text-muted",children:"Debug camera access and video display step by step"})]}),(0,r.jsxs)(i.Zb,{className:"mb-6",children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Camera Status"})}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${e?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-sm",children:e?"Camera Active":"Camera Inactive"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Status: ",l]}),t&&(0,r.jsxs)("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:["Error: ",t]})]})})]}),(0,r.jsxs)(i.Zb,{className:"mb-6",children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Camera Controls"})}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[r.jsx(i.zx,{onClick:p,disabled:e,className:"flex items-center gap-2",children:"Start Camera"}),r.jsx(i.zx,{onClick:()=>{x("Stopping camera..."),u.current&&(u.current.getTracks().forEach(e=>{x(`Stopping track: ${e.kind}`),e.stop()}),u.current=null),m.current&&(m.current.srcObject=null),a(!1),c("Camera stopped"),n("")},disabled:!e,variant:"destructive",className:"flex items-center gap-2",children:"Stop Camera"}),r.jsx(i.zx,{onClick:g,variant:"outline",className:"flex items-center gap-2",children:"Test Access"}),r.jsx(i.zx,{onClick:()=>{o([])},variant:"outline",className:"flex items-center gap-2",children:"Clear Debug"})]})})]}),(0,r.jsxs)(i.Zb,{className:"mb-6",children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Video Feed"})}),(0,r.jsxs)(i.aY,{children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("video",{ref:m,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg border",style:{maxHeight:"400px",minHeight:"300px",backgroundColor:"#f0f0f0"}}),!e&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:"\uD83D\uDCF9"}),r.jsx("div",{className:"text-gray-600",children:'Click "Start Camera" to begin'})]})})]}),(0,r.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:r.jsx("strong",{children:"Debug Info:"})}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,r.jsxs)("div",{children:["• Video element: ",m.current?"Present":"Not found"]}),(0,r.jsxs)("div",{children:["• Stream: ",u.current?"Active":"None"]}),(0,r.jsxs)("div",{children:["• Video readyState: ",m.current?.readyState||"N/A"]}),(0,r.jsxs)("div",{children:["• Video paused: ",m.current?.paused!==void 0?m.current.paused:"N/A"]}),(0,r.jsxs)("div",{children:["• Video currentTime: ",m.current?.currentTime||"N/A"]}),(0,r.jsxs)("div",{children:["• Video duration: ",m.current?.duration||"N/A"]})]})]})]})]}),(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Debug Log"})}),r.jsx(i.aY,{children:r.jsx("div",{className:"bg-black text-green-400 p-4 rounded-lg font-mono text-xs max-h-60 overflow-y-auto",children:0===d.length?r.jsx("div",{className:"text-gray-500",children:"No debug info yet..."}):d.map((e,a)=>r.jsx("div",{className:"mb-1",children:e},a))})})]})]})})}},1964:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$typeof:()=>n,__esModule:()=>i,default:()=>c});var r=t(4074);let s=(0,r.createProxy)(String.raw`C:\Users\Ashley\Mobii\apps\web\src\app\camera-test\page.tsx`),{__esModule:i,$$typeof:n}=s,l=s.default,c=l}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[819,342],()=>t(1863));module.exports=r})();