"use strict";exports.id=95,exports.ids=[95],exports.modules={8095:(e,t,r)=>{r.d(t,{AIService:()=>o}),r(5402),r(6964),r(9472);class o{async generateWorkout(e){try{if(this.huggingFaceKey)return await this.generateWithHuggingFace(e);if(this.geminiKey)return await this.generateWithGemini(e);if(this.perplexityKey)return await this.generateWithPerplexity(e);return this.generateDefaultWorkout(e)}catch(t){return console.error("AI generation failed, using default workout:",t),this.generateDefaultWorkout(e)}}async generateWithHuggingFace(e){let t=this.createWorkoutPrompt(e),r=await fetch("https://api-inference.huggingface.co/models/microsoft/DialoGPT-medium",{method:"POST",headers:{Authorization:`Bearer ${this.huggingFaceKey}`,"Content-Type":"application/json"},body:JSON.stringify({inputs:t,parameters:{max_length:500,temperature:.7,do_sample:!0}})});if(!r.ok)throw Error(`Hugging Face API error: ${r.status}`);let o=await r.json();return this.parseWorkoutResponse(o[0]?.generated_text||"",e)}async generateWithGemini(e){let t=this.createWorkoutPrompt(e),r=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${this.geminiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}]})});if(!r.ok)throw Error(`Gemini API error: ${r.status}`);let o=await r.json(),a=o.candidates?.[0]?.content?.parts?.[0]?.text||"";return this.parseWorkoutResponse(a,e)}async generateWithPerplexity(e){let t=this.createWorkoutPrompt(e),r=await fetch("https://api.perplexity.ai/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${this.perplexityKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-sonar-small-128k-online",messages:[{role:"user",content:t}],max_tokens:500})});if(!r.ok)throw Error(`Perplexity API error: ${r.status}`);let o=await r.json(),a=o.choices?.[0]?.message?.content||"";return this.parseWorkoutResponse(a,e)}createWorkoutPrompt(e){return`Generate a ${e.duration}-minute ${e.difficulty} chair yoga and calisthenics workout focusing on ${e.focusAreas.join(", ")}. 
    
    Requirements:
    - Duration: ${e.duration} minutes
    - Difficulty: ${e.difficulty}
    - Focus areas: ${e.focusAreas.join(", ")}
    - Equipment: Chair-based exercises
    - Format: JSON with title, description, exercises array, and calories estimate
    
    Please provide a structured workout that's safe and effective for the specified fitness level.`}parseWorkoutResponse(e,t){try{let r=e.match(/\{[\s\S]*\}/);if(r){let e=JSON.parse(r[0]);return{id:`ai-${Date.now()}`,title:e.title||`AI Generated ${t.difficulty} Workout`,description:e.description||`A personalized ${t.difficulty} workout`,duration:t.duration,difficulty:t.difficulty,calories:e.calories||Math.round(4.5*t.duration),exerciseCount:e.exercises?.length||8,focusAreas:t.focusAreas,exercises:e.exercises||this.getDefaultExercises(t)}}}catch(e){console.warn("Failed to parse AI response as JSON, using default:",e)}return this.generateDefaultWorkout(t)}generateDefaultWorkout(e){let t=this.getDefaultExercises(e);return{id:`default-${Date.now()}`,title:`Smart ${e.difficulty} Workout`,description:`A personalized ${e.difficulty} workout focusing on ${e.focusAreas.join(", ")}`,duration:e.duration,difficulty:e.difficulty,calories:Math.round(4.5*e.duration),exerciseCount:t.length,focusAreas:e.focusAreas,exercises:t}}getDefaultExercises(e){let t={"Upper Body":["Upper Body"],"Lower Body":["Lower Body"],Core:["Core"],Flexibility:["Warmup"],Strength:["Upper Body","Lower Body","Core"],Balance:["Core","Lower Body"]},r=e.focusAreas.flatMap(e=>t[e]||["Warmup"]);return[{name:"Seated Deep Breathing",description:"Sit tall, inhale deeply through nose, exhale slowly through mouth",duration:60,sets:1,reps:"5 breaths",category:"Warmup"},{name:"Seated Neck Stretches",description:"Gently tilt head side to side, forward and back",duration:45,sets:1,reps:"5 each direction",category:"Warmup"},{name:"Seated Shoulder Rolls",description:"Roll shoulders forward and backward in circular motion",duration:45,sets:1,reps:"10 each direction",category:"Warmup"},{name:"Seated Arm Circles",description:"Make small circles with arms, gradually increasing size",duration:60,sets:2,reps:"10 each direction",category:"Upper Body"},{name:"Seated Knee Lifts",description:"Lift knees alternately while sitting tall",duration:60,sets:2,reps:"15 each leg",category:"Lower Body"},{name:"Seated Side Bends",description:"Lean to each side while keeping back straight",duration:45,sets:2,reps:"8 each side",category:"Core"},{name:"Seated Leg Extensions",description:"Extend legs straight out, hold, then lower",duration:60,sets:2,reps:"12 each leg",category:"Lower Body"},{name:"Seated Cat-Cow Stretch",description:"Round and arch back while seated",duration:45,sets:1,reps:"8 cycles",category:"Core"}].filter(e=>r.includes(e.category)).slice(0,Math.min(8,Math.ceil(e.duration/5)))}async generateMotivationalMessage(){let e=["You're doing amazing! Every movement counts towards your goals.","Your body is capable of incredible things. Keep pushing forward!","Remember: progress, not perfection. You've got this!","Each workout makes you stronger, both physically and mentally.","You're building a healthier, stronger version of yourself today.","Consistency beats intensity. You're showing up, and that's what matters!","Your future self will thank you for this workout.","You're not just exercising, you're investing in your wellbeing."];return e[Math.floor(Math.random()*e.length)]}async analyzeFormFeedback(e,t){return({"Seated Deep Breathing":"Focus on breathing from your diaphragm, not your chest.","Seated Neck Stretches":"Move slowly and gently. Don't force the stretch.","Seated Shoulder Rolls":"Keep your movements smooth and controlled.","Seated Arm Circles":"Start small and gradually increase the circle size.","Seated Knee Lifts":"Keep your back straight and engage your core.","Seated Side Bends":"Don't lean forward or backward, just to the side.","Seated Leg Extensions":"Point your toes and engage your thigh muscles.","Seated Cat-Cow Stretch":"Move with your breath for better flow."})[e]||"Keep good form and listen to your body."}constructor(){this.huggingFaceKey=process.env.NEXT_PUBLIC_HUGGING_FACE_API_KEY,this.geminiKey=process.env.NEXT_PUBLIC_GOOGLE_GEMINI_API_KEY,this.perplexityKey=process.env.NEXT_PUBLIC_PERPLEXITY_API_KEY}}}};